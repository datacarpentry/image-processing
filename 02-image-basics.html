<!DOCTYPE html>
<!-- START: inst/pkgdown/templates/layout.html --><!-- Generated by pkgdown: do not edit by hand --><html lang="en" data-bs-theme="auto"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><title>Image Processing with Python: Image Basics</title><meta name="viewport" content="width=device-width, initial-scale=1"><script src="assets/themetoggle.js"></script><link rel="stylesheet" type="text/css" href="assets/styles.css"><script src="assets/scripts.js" type="text/javascript"></script><!-- mathjax --><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      config: ["MMLorHTML.js"],
      jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML", "output/PreviewHTML"],
      extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js", "fast-preview.js", "AssistiveMML.js", "a11y/accessibility-menu.js"],
      TeX: {
        extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
      },
      tex2jax: {
        inlineMath: [['\\(', '\\)']],
        displayMath: [ ['$$','$$'], ['\\[', '\\]'] ],
        processEscapes: true
      }
    });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><!-- Responsive Favicon for The Carpentries --><link rel="apple-touch-icon" sizes="180x180" href="favicons/dc/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="favicons/dc/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="favicons/dc/favicon-16x16.png"><link rel="manifest" href="favicons/dc/site.webmanifest"><link rel="mask-icon" href="favicons/dc/safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="black"></head><body>
    <header id="top" class="navbar navbar-expand-md top-nav data"><svg xmlns="http://www.w3.org/2000/svg" class="d-none"><symbol id="check2" viewbox="0 0 16 16"><path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"></path></symbol><symbol id="circle-half" viewbox="0 0 16 16"><path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"></path></symbol><symbol id="moon-stars-fill" viewbox="0 0 16 16"><path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"></path><path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"></path></symbol><symbol id="sun-fill" viewbox="0 0 16 16"><path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"></path></symbol></svg><a class="visually-hidden-focusable skip-link" href="#main-content">Skip to main content</a>
  <div class="container-fluid top-nav-container">
    <div class="col-md-8">
      <div class="large-logo">
        <img id="dc-logo" alt="Data Carpentry" src="assets/images/data-logo.svg"></div>
    </div>
    <div class="selector-container">
      <div id="theme-selector">
        <li class="nav-item dropdown" id="theme-button-list">
          <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
            <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="bd-theme-text"><li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                Light
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                Dark
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                Auto
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
          </ul></li>
      </div>

      <div class="dropdown" id="instructor-dropdown">
        <button class="btn btn-secondary dropdown-toggle bordered-button" type="button" id="dropdownMenu1" data-bs-toggle="dropdown" aria-expanded="false">
          <i aria-hidden="true" class="icon" data-feather="eye"></i> Learner View <i data-feather="chevron-down"></i>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1"><li><button class="dropdown-item" type="button" onclick="window.location.href='instructor/02-image-basics.html';">Instructor View</button></li>
        </ul></div>
    </div>
  </div>
  <hr></header><nav class="navbar navbar-expand-xl bottom-nav data" aria-label="Main Navigation"><div class="container-fluid nav-container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle Navigation">
      <span class="navbar-toggler-icon"></span>
      <span class="menu-title">Menu</span>
    </button>
    <div class="nav-logo">
      <img class="small-logo" alt="Data Carpentry" src="assets/images/data-logo-sm.svg"></div>
    <div class="lesson-title-md">
      Image Processing with Python
    </div>
    <div class="search-icon-sm">
      <!-- TODO: do not show until we have search
        <i role="img" aria-label="Search the All In One page" data-feather="search"></i>
      -->
    </div>
    <div class="desktop-nav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0"><li class="nav-item">
          <span class="lesson-title">
            Image Processing with Python
          </span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="key-points.html">Key Points</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="reference.html#glossary">Glossary</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="profiles.html">Learner Profiles</a>
        </li>
        <li class="nav-item dropdown">
          <button class="nav-link dropdown-toggle" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            More <i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown"><li><a class="dropdown-item" href="discuss.html">Discussion</a></li><li><a class="dropdown-item" href="edge-detection.html">Extra Episode: Edge Detection</a></li><li><a class="dropdown-item" href="prereqs.html">Prerequisites</a></li><li><a class="dropdown-item" href="reference.html">Reference</a></li>
          </ul></li>
      </ul></div>
    <!--
    <form class="d-flex col-md-2 search-form">
      <fieldset disabled>
      <input class="form-control me-2 searchbox" type="search" placeholder="" aria-label="">
        <button class="btn btn-outline-success tablet-search-button"  type="submit">
          <i class="search-icon" data-feather="search" role="img" aria-label="Search the All In One page"></i>
        </button>
      </fieldset>
    </form>
    -->
    <a id="search-button" class="btn btn-primary" href="aio.html" role="button" aria-label="Search the All In One page">Search the All In One page</a>
  </div><!--/div.container-fluid -->
</nav><div class="col-md-12 mobile-title">
  Image Processing with Python
</div>

<aside class="col-md-12 lesson-progress"><div style="width: 1%" class="percentage">
    1%
  </div>
  <div class="progress data">
    <div class="progress-bar data" role="progressbar" style="width: 1%" aria-valuenow="1" aria-label="Lesson Progress" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
</aside><div class="container">
      <div class="row">
        <!-- START: inst/pkgdown/templates/navbar.html -->
<div id="sidebar-col" class="col-lg-4">
  <div id="sidebar" class="sidebar">
      <nav aria-labelledby="flush-headingEleven"><button role="button" aria-label="close menu" alt="close menu" aria-expanded="true" aria-controls="sidebar" class="collapse-toggle" data-collapse="Collapse " data-episodes="Episodes ">
          <i class="search-icon" data-feather="x" role="img"></i>
        </button>
        <div class="sidebar-inner">
          <div class="row mobile-row" id="theme-row-mobile">
            <div class="col" id="theme-selector">
              <li class="nav-item dropdown" id="theme-button-list">
                <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
                  <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><span class="d-lg-none ms-1" id="bd-theme-text">Toggle Theme</span>
                </button>
                <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="bd-theme-text"><li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                      Light
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                      Dark
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                      <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                      Auto
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                </ul></li>
            </div>
          </div>
          <div class="row mobile-row">
            <div class="col">
              <div class="sidenav-view-selector">
                <div class="accordion accordion-flush" id="accordionFlush9">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingNine">
                      <button class="accordion-button collapsed" id="instructor" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseNine" aria-expanded="false" aria-controls="flush-collapseNine">
                        <i id="eye" aria-hidden="true" class="icon" data-feather="eye"></i> Learner View
                      </button>
                    </h2>
                    <div id="flush-collapseNine" class="accordion-collapse collapse" aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlush2">
                      <div class="accordion-body">
                        <a href="instructor/02-image-basics.html">Instructor View</a>
                      </div>
                    </div>
                  </div><!--/div.accordion-item-->
                </div><!--/div.accordion-flush-->
              </div><!--div.sidenav-view-selector -->
            </div><!--/div.col -->

            <hr></div><!--/div.mobile-row -->

          <div class="accordion accordion-flush" id="accordionFlush11">
            <div class="accordion-item">

              <button id="chapters" class="accordion-button show" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEleven" aria-expanded="false" aria-controls="flush-collapseEleven">
                <h2 class="accordion-header chapters" id="flush-headingEleven">
                  EPISODES
                </h2>
              </button>
              <div id="flush-collapseEleven" class="accordion-collapse show collapse" aria-labelledby="flush-headingEleven" data-bs-parent="#accordionFlush11">

                <div class="accordion-body">
                  <div class="accordion accordion-flush" id="accordionFlush1">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading1">
        <a href="index.html">Summary and Setup</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush2">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading2">
        <a href="01-introduction.html">1. Introduction</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlushcurrent">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-headingcurrent">
      <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapsecurrent" aria-expanded="true" aria-controls="flush-collapsecurrent">
        <span class="visually-hidden">Current Chapter</span>
        <span class="current-chapter">
        2. Image Basics
        </span>
      </button>
    </div><!--/div.accordion-header-->

    <div id="flush-collapsecurrent" class="accordion-collapse collapse show" aria-labelledby="flush-headingcurrent" data-bs-parent="#accordionFlushcurrent">
      <div class="accordion-body">
        <ul><li><a href="#pixels">Pixels</a></li>
<li><a href="#loading-images">Loading images</a></li>
<li><a href="#working-with-pixels">Working with pixels</a></li>
<li><a href="#more-colours">More colours</a></li>
<li><a href="#even-more-colours">Even more colours</a></li>
<li><a href="#bit-rgb-colour">24-bit RGB colour</a></li>
<li><a href="#image-formats">Image formats</a></li>
<li><a href="#bmp">BMP</a></li>
<li><a href="#image-compression">Image compression</a></li>
<li><a href="#jpeg">JPEG</a></li>
<li><a href="#png">PNG</a></li>
<li><a href="#tiff">TIFF</a></li>
<li><a href="#metadata">Metadata</a></li>
<li><a href="#summary-of-image-formats-used-in-this-lesson">Summary of image formats used in this lesson</a></li>
        </ul></div><!--/div.accordion-body-->
    </div><!--/div.accordion-collapse-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush4">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading4">
        <a href="03-skimage-images.html">3. Working with scikit-image</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush5">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading5">
        <a href="04-drawing.html">4. Drawing and Bitwise Operations</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush6">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading6">
        <a href="05-creating-histograms.html">5. Creating Histograms</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush7">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading7">
        <a href="06-blurring.html">6. Blurring Images</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush8">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading8">
        <a href="07-thresholding.html">7. Thresholding</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush9">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading9">
        <a href="08-connected-components.html">8. Connected Component Analysis</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush10">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading10">
        <a href="09-challenges.html">9. Capstone Challenge</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

                </div>
              </div>
            </div>

            <hr class="half-width"><div class="accordion accordion-flush lesson-resources" id="accordionFlush12">
              <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingTwelve">
                  <button class="accordion-button collapsed" id="lesson-resources" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwelve" aria-expanded="false" aria-controls="flush-collapseTwelve">
                    RESOURCES
                  </button>
                </h2>
                <div id="flush-collapseTwelve" class="accordion-collapse collapse" aria-labelledby="flush-headingTwelve" data-bs-parent="#accordionFlush12">
                  <div class="accordion-body">
                    <ul><li>
                        <a href="key-points.html">Key Points</a>
                      </li>
                      <li>
                        <a href="reference.html#glossary">Glossary</a>
                      </li>
                      <li>
                        <a href="profiles.html">Learner Profiles</a>
                      </li>
                      <li><a href="discuss.html">Discussion</a></li><li><a href="edge-detection.html">Extra Episode: Edge Detection</a></li><li><a href="prereqs.html">Prerequisites</a></li><li><a href="reference.html">Reference</a></li>
                    </ul></div>
                </div>
              </div>
            </div>
            <hr class="half-width lesson-resources"><a href="aio.html">See all in one page</a>


            <hr class="d-none d-sm-block d-md-none"><div class="d-grid gap-1">

            </div>
          </div><!-- /div.accordion -->
        </div><!-- /div.sidebar-inner -->
      </nav></div><!-- /div.sidebar -->
  </div><!-- /div.sidebar-col -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

        <!-- START: inst/pkgdown/templates/content-instructor.html -->
  <div class="col-xl-8 col-lg-12 primary-content">
    <nav class="lesson-content mx-md-4" aria-label="Previous and Next Chapter"><!-- content for small screens --><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="01-introduction.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous</a>
        <a class="chapter-link float-end" href="03-skimage-images.html">Next<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="01-introduction.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Previous: Introduction
        </a>
        <a class="chapter-link float-end" href="03-skimage-images.html" rel="next">
          Next: Working with...
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
      <hr></nav><main id="main-content" class="main-content"><div class="container lesson-content">
        <h1>Image Basics</h1>
        <p>Last updated on 2024-12-01 |

        <a href="https://github.com/datacarpentry/image-processing/edit/main/episodes/02-image-basics.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>



        <div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>

        

<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul><li>How are images represented in digital format?</li>
</ul></div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul><li>Define the terms bit, byte, kilobyte, megabyte, etc.</li>
<li>Explain how a digital image is composed of pixels.</li>
<li>Recommend using imageio (resp. scikit-image) for I/O (resp. image
processing) tasks.</li>
<li>Explain how images are stored in NumPy arrays.</li>
<li>Explain the left-hand coordinate system used in digital images.</li>
<li>Explain the RGB additive colour model used in digital images.</li>
<li>Explain the order of the three colour values in scikit-image
images.</li>
<li>Explain the characteristics of the BMP, JPEG, and TIFF image
formats.</li>
<li>Explain the difference between lossy and lossless compression.</li>
<li>Explain the advantages and disadvantages of compressed image
formats.</li>
<li>Explain what information could be contained in image metadata.</li>
</ul></div>
</div>
</div>
</div>
</div>
<p>The images we see on hard copy, view with our electronic devices, or
process with our programs are represented and stored in the computer as
numeric abstractions, approximations of what we see with our eyes in the
real world. Before we begin to learn how to process images with Python
programs, we need to spend some time understanding how these
abstractions work.</p>
<div id="callout1" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Callout</h3>
<div class="callout-content">
<p>Feel free to make use of the <a href="./files/cheatsheet.html">available cheat-sheet</a> as a guide for
the rest of the course material. View it online, share it, or print the
<a href="./files/cheatsheet.pdf">PDF</a>!</p>
</div>
</div>
</div>
<section><h2 class="section-heading" id="pixels">Pixels<a class="anchor" aria-label="anchor" href="#pixels"></a></h2>
<hr class="half-width"><p>It is important to realise that images are stored as rectangular
arrays of hundreds, thousands, or millions of discrete “picture
elements,” otherwise known as <em>pixels</em>. Each pixel can be thought
of as a single square point of coloured light.</p>
<p>For example, consider this image of a maize seedling, with a square
area designated by a red box:</p>
<figure><img src="fig/maize-seedling-original.jpg" alt="Original size image" class="figure mx-auto d-block"></figure><p>Now, if we zoomed in close enough to see the pixels in the red box,
we would see something like this:</p>
<figure><img src="fig/maize-seedling-enlarged.jpg" alt="Enlarged image area" class="figure mx-auto d-block"></figure><p>Note that each square in the enlarged image area - each pixel - is
all one colour, but that each pixel can have a different colour from its
neighbors. Viewed from a distance, these pixels seem to blend together
to form the image we see.</p>
<p>Real-world images are typically made up of a vast number of pixels,
and each of these pixels is one of potentially millions of colours.
While we will deal with pictures of such complexity in this lesson,
let’s start our exploration with just 15 pixels in a 5 x 3 matrix with 2
colours, and work our way up to that complexity.</p>
<div id="matrices-arrays-images-and-pixels" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="matrices-arrays-images-and-pixels" class="callout-inner">
<h3 class="callout-title">Matrices, arrays, images and pixels</h3>
<div class="callout-content">
<p>A <strong>matrix</strong> is a mathematical concept - numbers evenly
arranged in a rectangle. This can be a two-dimensional rectangle, like
the shape of the screen you’re looking at now. Or it could be a
three-dimensional equivalent, a cuboid, or have even more dimensions,
but always keeping the evenly spaced arrangement of numbers. In
computing, an <strong>array</strong> refers to a structure in the
computer’s memory where data is stored in evenly spaced
<strong>elements</strong>. This is strongly analogous to a matrix. A
NumPy array is a <strong>type</strong> of variable (a simpler example of
a type is an integer). For our purposes, the distinction between
matrices and arrays is not important, we don’t really care how the
computer arranges our data in its memory. The important thing is that
the computer stores values describing the pixels in images, as arrays.
And the terms matrix and array will be used interchangeably.</p>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="loading-images">Loading images<a class="anchor" aria-label="anchor" href="#loading-images"></a></h2>
<hr class="half-width"><p>As noted, images we want to analyze (process) with Python are loaded
into arrays. There are multiple ways to load images. In this lesson, we
use imageio, a Python library for reading (loading) and writing (saving)
image data, and more specifically its version 3. But, really, we could
use any image loader which would return a NumPy array.</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="co">"""Python library for reading and writing images."""</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a><span class="im">import</span> imageio.v3 <span class="im">as</span> iio</span></code></pre>
</div>
<p>The <code>v3</code> module of imageio (<code>imageio.v3</code>) is
imported as <code>iio</code> (see note in the next section). Version 3
of imageio has the benefit of supporting nD (multidimensional) image
data natively (think of volumes, movies).</p>
<p>Let us load our image data from disk using the <code>imread</code>
function from the <code>imageio.v3</code> module.</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a>eight <span class="op">=</span> iio.imread(uri<span class="op">=</span><span class="st">"data/eight.tif"</span>)</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">type</span>(eight))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>&lt;class 'numpy.ndarray'&gt;</code></pre>
</div>
<p>Note that, using the same image loader or a different one, we could
also read in remotely hosted data.</p>
<div id="why-not-use-skimage.io.imread" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="why-not-use-skimage.io.imread" class="callout-inner">
<h3 class="callout-title">Why not use
<code>skimage.io.imread()</code>?</h3>
<div class="callout-content">
<p>The scikit-image library has its own function to read an image, so
you might be asking why we don’t use it here. Actually,
<code>skimage.io.imread()</code> uses <code>iio.imread()</code>
internally when loading an image into Python. It is certainly something
you may use as you see fit in your own code. In this lesson, we use the
imageio library to read or write images, while scikit-image is dedicated
to performing operations on the images. Using imageio gives us more
flexibility, especially when it comes to handling metadata.</p>
</div>
</div>
</div>
<div id="beyond-numpy-arrays" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="beyond-numpy-arrays" class="callout-inner">
<h3 class="callout-title">Beyond NumPy arrays</h3>
<div class="callout-content">
<p>Beyond NumPy arrays, there exist other types of variables which are
array-like. Notably, <a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html" class="external-link">pandas.DataFrame</a>
and <a href="https://docs.xarray.dev/en/stable/generated/xarray.DataArray.html" class="external-link">xarray.DataArray</a>
can hold labeled, tabular data. These are not natively supported in
scikit-image, the scientific toolkit we use in this lesson for
processing image data. However, data stored in these types can be
converted to <code>numpy.ndarray</code> with certain assumptions (see
<code>pandas.DataFrame.to_numpy()</code> and
<code>xarray.DataArray.data</code>). Particularly, these conversions
ignore the sampling coordinates (<code>DataFrame.index</code>,
<code>DataFrame.columns</code>, or <code>DataArray.coords</code>), which
may result in misrepresented data, for instance, when the original data
points are irregularly spaced.</p>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="working-with-pixels">Working with pixels<a class="anchor" aria-label="anchor" href="#working-with-pixels"></a></h2>
<hr class="half-width"><p>First, let us add the necessary imports:</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="co">"""Python libraries for learning and performing image processing."""</span></span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a><span class="im">import</span> ipympl</span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a><span class="im">import</span> skimage <span class="im">as</span> ski</span></code></pre>
</div>
<div id="import-statements-in-python" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="import-statements-in-python" class="callout-inner">
<h3 class="callout-title">Import statements in Python</h3>
<div class="callout-content">
<p>In Python, the <code>import</code> statement is used to load
additional functionality into a program. This is necessary when we want
our code to do something more specialised, which cannot easily be
achieved with the limited set of basic tools and data structures
available in the default Python environment.</p>
<p>Additional functionality can be loaded as a single function or
object, a module defining several of these, or a library containing many
modules. You will encounter several different forms of
<code>import</code> statement.</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="im">import</span> skimage                 <span class="co"># form 1, load whole skimage library</span></span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a><span class="im">import</span> skimage.draw            <span class="co"># form 2, load skimage.draw module only</span></span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a><span class="im">from</span> skimage.draw <span class="im">import</span> disk  <span class="co"># form 3, load only the disk function</span></span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a><span class="im">import</span> skimage <span class="im">as</span> ski          <span class="co"># form 4, load all of skimage into an object called ski</span></span></code></pre>
</div>
<div id="accordionSpoiler1" class="accordion spoiler-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button spoiler-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSpoiler1" aria-expanded="false" aria-controls="collapseSpoiler1">
  <h3 class="accordion-header" id="headingSpoiler1">  <div class="note-square"><i aria-hidden="true" class="callout-icon" data-feather="eye"></i></div> Further explanation </h3>
</button>
<div id="collapseSpoiler1" class="accordion-collapse collapse" aria-labelledby="headingSpoiler1" data-bs-parent="#accordionSpoiler1">
<div class="accordion-body">
<p>In the example above, form 1 loads the entire scikit-image library
into the program as an object. Individual modules of the library are
then available within that object, e.g., to access the <code>disk</code>
function used in <a href="04-drawing.html">the drawing episode</a>, you
would write <code>skimage.draw.disk()</code>.</p>
<p>Form 2 loads only the <code>draw</code> module of
<code>skimage</code> into the program. The syntax needed to use the
module remains unchanged: to access the <code>disk</code> function, we
would use the same function call as given for form 1.</p>
<p>Form 3 can be used to import only a specific function/class from a
library/module. Unlike the other forms, when this approach is used, the
imported function or class can be called by its name only, without
prefixing it with the name of the library/module from which it was
loaded, i.e., <code>disk()</code> instead of
<code>skimage.draw.disk()</code> using the example above. One hazard of
this form is that importing like this will overwrite any object with the
same name that was defined/imported earlier in the program, i.e., the
example above would replace any existing object called <code>disk</code>
with the <code>disk</code> function from <code>skimage.draw</code>.</p>
<p>Finally, the <code>as</code> keyword can be used when importing, to
define a name to be used as shorthand for the library/module being
imported. This name is referred to as an alias. Typically, using an
alias (such as <code>np</code> for the NumPy library) saves us a little
typing. You may see <code>as</code> combined with any of the other first
three forms of <code>import</code> statements.</p>
<p>Which form is used often depends on the size and number of additional
tools being loaded into the program.</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<p>Now that we have our libraries loaded, we will run a Jupyter Magic
Command that will ensure our images display in our Jupyter document with
pixel information that will help us more efficiently run commands later
in the session.</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="op">%</span>matplotlib widget</span></code></pre>
</div>
<p>With that taken care of, let us display the image we have loaded,
using the <code>imshow</code> function from the
<code>matplotlib.pyplot</code> module.</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots()</span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a>ax.imshow(eight)</span></code></pre>
</div>
<figure><img src="fig/eight.png" alt="Image of 8" class="figure mx-auto d-block"></figure><p>You might be thinking, “That does look vaguely like an eight, and I
see two colours but how can that be only 15 pixels”. The display of the
eight you see does use a lot more screen pixels to display our eight so
large, but that does not mean there is information for all those screen
pixels in the file. All those extra pixels are a consequence of our
viewer creating additional pixels through interpolation. It could have
just displayed it as a tiny image using only 15 screen pixels if the
viewer was designed differently.</p>
<p>While many image file formats contain descriptive metadata that can
be essential, the bulk of a picture file is just arrays of numeric
information that, when interpreted according to a certain rule set,
become recognizable as an image to us. Our image of an eight is no
exception, and <code>imageio.v3</code> stored that image data in an
array of arrays making a 5 x 3 matrix of 15 pixels. We can demonstrate
that by calling on the shape property of our image variable and see the
matrix by printing our image variable to the screen.</p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="bu">print</span>(eight.shape)</span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a><span class="bu">print</span>(eight)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>(5, 3)
[[0. 0. 0.]
 [0. 1. 0.]
 [0. 0. 0.]
 [0. 1. 0.]
 [0. 0. 0.]]</code></pre>
</div>
<p>Thus if we have tools that will allow us to manipulate these arrays
of numbers, we can manipulate the image. The NumPy library can be
particularly useful here, so let’s try that out using NumPy array
slicing. Notice that the default behavior of the <code>imshow</code>
function appended row and column numbers that will be helpful to us as
we try to address individual or groups of pixels. First let’s load
another copy of our eight, and then make it look like a zero.</p>
<p>To make it look like a zero, we need to change the number underlying
the centremost pixel to be 1. With the help of those row and column
headers, at this small scale we can determine the centre pixel is in row
labeled 2 and column labeled 1. Using array slicing, we can then address
and assign a new value to that position.</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a>zero <span class="op">=</span> iio.imread(uri<span class="op">=</span><span class="st">"data/eight.tif"</span>)</span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a>zero[<span class="dv">2</span>, <span class="dv">1</span>]<span class="op">=</span> <span class="fl">1.0</span></span>
<span id="cb10-3"><a href="#cb10-3" tabindex="-1"></a></span>
<span id="cb10-4"><a href="#cb10-4" tabindex="-1"></a><span class="co"># The following line of code creates a new figure for imshow to use in displaying our output.</span></span>
<span id="cb10-5"><a href="#cb10-5" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots()</span>
<span id="cb10-6"><a href="#cb10-6" tabindex="-1"></a>ax.imshow(zero)</span>
<span id="cb10-7"><a href="#cb10-7" tabindex="-1"></a><span class="bu">print</span>(zero)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[[0. 0. 0.]
 [0. 1. 0.]
 [0. 1. 0.]
 [0. 1. 0.]
 [0. 0. 0.]]</code></pre>
</div>
<figure><img src="fig/zero.png" alt="Image of 0" class="figure mx-auto d-block"></figure><div id="coordinate-system" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="coordinate-system" class="callout-inner">
<h3 class="callout-title">Coordinate system</h3>
<div class="callout-content">
<p>When we process images, we can access, examine, and / or change the
colour of any pixel we wish. To do this, we need some convention on how
to access pixels individually; a way to give each one a name, or an
address of a sort.</p>
<p>The most common manner to do this, and the one we will use in our
programs, is to assign a modified Cartesian coordinate system to the
image. The coordinate system we usually see in mathematics has a
horizontal x-axis and a vertical y-axis, like this:</p>
<figure><img src="fig/cartesian-coordinates.png" alt="Cartesian coordinate system" class="figure mx-auto d-block"></figure><p>The modified coordinate system used for our images will have only
positive coordinates, the origin will be in the upper left corner
instead of the centre, and y coordinate values will get larger as they
go down instead of up, like this:</p>
<figure><img src="fig/image-coordinates.png" alt="Image coordinate system" class="figure mx-auto d-block"></figure><p>This is called a <em>left-hand coordinate system</em>. If you hold
your left hand in front of your face and point your thumb at the floor,
your extended index finger will correspond to the x-axis while your
thumb represents the y-axis.</p>
<figure><img src="fig/left-hand-coordinates.png" alt="Left-hand coordinate system" class="figure mx-auto d-block"></figure><p>Until you have worked with images for a while, the most common
mistake that you will make with coordinates is to forget that y
coordinates get larger as they go down instead of up as in a normal
Cartesian coordinate system. Consequently, it may be helpful to think in
terms of counting down rows (r) for the y-axis and across columns (c)
for the x-axis. This can be especially helpful in cases where you need
to transpose image viewer data provided in <em>x,y</em> format to
<em>y,x</em> format. Thus, we will use <em>cx</em> and <em>ry</em> where
appropriate to help bridge these two approaches.</p>
</div>
</div>
</div>
<div id="changing-pixel-values-5-min" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="changing-pixel-values-5-min" class="callout-inner">
<h3 class="callout-title">Changing Pixel Values (5 min)</h3>
<div class="callout-content">
<p>Load another copy of eight named five, and then change the value of
pixels so you have what looks like a 5 instead of an 8. Display the
image and print out the matrix as well.</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<p>There are many possible solutions, but one method would be . . .</p>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a>five <span class="op">=</span> iio.imread(uri<span class="op">=</span><span class="st">"data/eight.tif"</span>)</span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a>five[<span class="dv">1</span>, <span class="dv">2</span>] <span class="op">=</span> <span class="fl">1.0</span></span>
<span id="cb12-3"><a href="#cb12-3" tabindex="-1"></a>five[<span class="dv">3</span>, <span class="dv">0</span>] <span class="op">=</span> <span class="fl">1.0</span></span>
<span id="cb12-4"><a href="#cb12-4" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots()</span>
<span id="cb12-5"><a href="#cb12-5" tabindex="-1"></a>ax.imshow(five)</span>
<span id="cb12-6"><a href="#cb12-6" tabindex="-1"></a><span class="bu">print</span>(five)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[[0. 0. 0.]
 [0. 1. 1.]
 [0. 0. 0.]
 [1. 1. 0.]
 [0. 0. 0.]]</code></pre>
</div>
<figure><img src="fig/five.png" alt="Image of 5" class="figure mx-auto d-block"></figure></div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="more-colours">More colours<a class="anchor" aria-label="anchor" href="#more-colours"></a></h2>
<hr class="half-width"><p>Up to now, we only had a 2 colour matrix, but we can have more if we
use other numbers or fractions. One common way is to use the numbers
between 0 and 255 to allow for 256 different colours or 256 different
levels of grey. Let’s try that out.</p>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="co"># make a copy of eight</span></span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a>three_colours <span class="op">=</span> iio.imread(uri<span class="op">=</span><span class="st">"data/eight.tif"</span>)</span>
<span id="cb14-3"><a href="#cb14-3" tabindex="-1"></a></span>
<span id="cb14-4"><a href="#cb14-4" tabindex="-1"></a><span class="co"># multiply the whole matrix by 128</span></span>
<span id="cb14-5"><a href="#cb14-5" tabindex="-1"></a>three_colours <span class="op">=</span> three_colours <span class="op">*</span> <span class="dv">128</span></span>
<span id="cb14-6"><a href="#cb14-6" tabindex="-1"></a></span>
<span id="cb14-7"><a href="#cb14-7" tabindex="-1"></a><span class="co"># set the middle row (index 2) to the value of 255.,</span></span>
<span id="cb14-8"><a href="#cb14-8" tabindex="-1"></a><span class="co"># so you end up with the values 0., 128., and 255.</span></span>
<span id="cb14-9"><a href="#cb14-9" tabindex="-1"></a>three_colours[<span class="dv">2</span>, :] <span class="op">=</span> <span class="fl">255.</span></span>
<span id="cb14-10"><a href="#cb14-10" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots()</span>
<span id="cb14-11"><a href="#cb14-11" tabindex="-1"></a>ax.imshow(three_colours)</span>
<span id="cb14-12"><a href="#cb14-12" tabindex="-1"></a><span class="bu">print</span>(three_colours)</span></code></pre>
</div>
<figure><img src="fig/three-colours.png" alt="Image of three colours" class="figure mx-auto d-block"></figure><p>We now have 3 colours, but are they the three colours you expected?
They all appear to be on a continuum of dark purple on the low end and
yellow on the high end. This is a consequence of the default colour map
(cmap) in this library. You can think of a colour map as an association
or mapping of numbers to a specific colour. However, the goal here is
not to have one number for every possible colour, but rather to have a
continuum of colours that demonstrate relative intensity. In our
specific case here for example, 255 or the highest intensity is mapped
to yellow, and 0 or the lowest intensity is mapped to a dark purple. The
best colour map for your data will vary and there are many options built
in, but this default selection was not arbitrary. A lot of science went
into making this the default due to its robustness when it comes to how
the human mind interprets relative colour values, grey-scale
printability, and colour-blind friendliness (You can read more about
this default colour map in <a href="https://matplotlib.org/stable/tutorials/colors/colormaps.html" class="external-link">a
Matplotlib tutorial</a> and <a href="https://bids.github.io/colormap/" class="external-link">an explanatory article by the
authors</a>). Thus it is a good place to start, and you should change it
only with purpose and forethought. For now, let’s see how you can do
that using an alternative map you have likely seen before where it will
be even easier to see it as a mapped continuum of intensities:
greyscale.</p>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots()</span>
<span id="cb15-2"><a href="#cb15-2" tabindex="-1"></a>ax.imshow(three_colours, cmap<span class="op">=</span><span class="st">"gray"</span>)</span></code></pre>
</div>
<figure><img src="fig/grayscale.png" alt="Image in greyscale" class="figure mx-auto d-block"></figure><p>Above we have exactly the same underlying data matrix, but in
greyscale. Zero maps to black, 255 maps to white, and 128 maps to medium
grey. Here we only have a single channel in the data and utilize a
grayscale color map to represent the luminance, or intensity of the data
and correspondingly this channel is referred to as the luminance
channel.</p>
</section><section><h2 class="section-heading" id="even-more-colours">Even more colours<a class="anchor" aria-label="anchor" href="#even-more-colours"></a></h2>
<hr class="half-width"><p>This is all well and good at this scale, but what happens when we
instead have a picture of a natural landscape that contains millions of
colours. Having a one to one mapping of number to colour like this would
be inefficient and make adjustments and building tools to do so very
difficult. Rather than larger numbers, the solution is to have more
numbers in more dimensions. Storing the numbers in a multi-dimensional
matrix where each colour or property like transparency is associated
with its own dimension allows for individual contributions to a pixel to
be adjusted independently. This ability to manipulate properties of
groups of pixels separately will be key to certain techniques explored
in later chapters of this lesson. To get started let’s see an example of
how different dimensions of information combine to produce a set of
pixels using a 4 x 4 matrix with 3 dimensions for the colours red,
green, and blue. Rather than loading it from a file, we will generate
this example using NumPy.</p>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a><span class="co"># set the random seed so we all get the same matrix</span></span>
<span id="cb16-2"><a href="#cb16-2" tabindex="-1"></a>pseudorandomizer <span class="op">=</span> np.random.RandomState(<span class="dv">2021</span>)</span>
<span id="cb16-3"><a href="#cb16-3" tabindex="-1"></a><span class="co"># create a 4 × 4 checkerboard of random colours</span></span>
<span id="cb16-4"><a href="#cb16-4" tabindex="-1"></a>checkerboard <span class="op">=</span> pseudorandomizer.randint(<span class="dv">0</span>, <span class="dv">255</span>, size<span class="op">=</span>(<span class="dv">4</span>, <span class="dv">4</span>, <span class="dv">3</span>))</span>
<span id="cb16-5"><a href="#cb16-5" tabindex="-1"></a><span class="co"># restore the default map as you show the image</span></span>
<span id="cb16-6"><a href="#cb16-6" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots()</span>
<span id="cb16-7"><a href="#cb16-7" tabindex="-1"></a>ax.imshow(checkerboard)</span>
<span id="cb16-8"><a href="#cb16-8" tabindex="-1"></a><span class="co"># display the arrays</span></span>
<span id="cb16-9"><a href="#cb16-9" tabindex="-1"></a><span class="bu">print</span>(checkerboard)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[[[116  85  57]
  [128 109  94]
  [214  44  62]
  [219 157  21]]

 [[ 93 152 140]
  [246 198 102]
  [ 70  33 101]
  [  7   1 110]]

 [[225 124 229]
  [154 194 176]
  [227  63  49]
  [144 178  54]]

 [[123 180  93]
  [120   5  49]
  [166 234 142]
  [ 71  85  70]]]</code></pre>
</div>
<figure><img src="fig/checkerboard.png" alt="Image of checkerboard" class="figure mx-auto d-block"></figure><p>Previously we had one number being mapped to one colour or intensity.
Now we are combining the effect of 3 numbers to arrive at a single
colour value. Let’s see an example of that using the blue square at the
end of the second row, which has the index [1, 3].</p>
<div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a><span class="co"># extract all the colour information for the blue square</span></span>
<span id="cb18-2"><a href="#cb18-2" tabindex="-1"></a>upper_right_square <span class="op">=</span> checkerboard[<span class="dv">1</span>, <span class="dv">3</span>, :]</span>
<span id="cb18-3"><a href="#cb18-3" tabindex="-1"></a>upper_right_square</span></code></pre>
</div>
<p>This outputs: array([ 7, 1, 110]) The integers in order represent
Red, Green, and Blue. Looking at the 3 values and knowing how they map,
can help us understand why it is blue. If we divide each value by 255,
which is the maximum, we can determine how much it is contributing
relative to its maximum potential. Effectively, the red is at 7/255 or
2.8 percent of its potential, the green is at 1/255 or 0.4 percent, and
blue is 110/255 or 43.1 percent of its potential. So when you mix those
three intensities of colour, blue is winning by a wide margin, but the
red and green still contribute to make it a slightly different shade of
blue than 0,0,110 would be on its own.</p>
<p>These colours mapped to dimensions of the matrix may be referred to
as channels. It may be helpful to display each of these channels
independently, to help us understand what is happening. We can do that
by multiplying our image array representation with a 1d matrix that has
a one for the channel we want to keep and zeros for the rest.</p>
<div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a>red_channel <span class="op">=</span> checkerboard <span class="op">*</span> [<span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">0</span>]</span>
<span id="cb19-2"><a href="#cb19-2" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots()</span>
<span id="cb19-3"><a href="#cb19-3" tabindex="-1"></a>ax.imshow(red_channel)</span></code></pre>
</div>
<figure><img src="fig/checkerboard-red-channel.png" alt="Image of red channel" class="figure mx-auto d-block"></figure><div class="codewrapper sourceCode" id="cb20">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a>green_channel <span class="op">=</span> checkerboard <span class="op">*</span> [<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>]</span>
<span id="cb20-2"><a href="#cb20-2" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots()</span>
<span id="cb20-3"><a href="#cb20-3" tabindex="-1"></a>ax.imshow(green_channel)</span></code></pre>
</div>
<figure><img src="fig/checkerboard-green-channel.png" alt="Image of green channel" class="figure mx-auto d-block"></figure><div class="codewrapper sourceCode" id="cb21">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a>blue_channel <span class="op">=</span> checkerboard <span class="op">*</span> [<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>]</span>
<span id="cb21-2"><a href="#cb21-2" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots()</span>
<span id="cb21-3"><a href="#cb21-3" tabindex="-1"></a>ax.imshow(blue_channel)</span></code></pre>
</div>
<figure><img src="fig/checkerboard-blue-channel.png" alt="Image of blue channel" class="figure mx-auto d-block"></figure><p>If we look at the upper [1, 3] square in all three figures, we can
see each of those colour contributions in action. Notice that there are
several squares in the blue figure that look even more intensely blue
than square [1, 3]. When all three channels are combined though, the
blue light of those squares is being diluted by the relative strength of
red and green being mixed in with them.</p>
</section><section><h2 class="section-heading" id="bit-rgb-colour">24-bit RGB colour<a class="anchor" aria-label="anchor" href="#bit-rgb-colour"></a></h2>
<hr class="half-width"><p>This last colour model we used, known as the <em>RGB (Red, Green,
Blue)</em> model, is the most common.</p>
<p>As we saw, the RGB model is an <em>additive</em> colour model, which
means that the primary colours are mixed together to form other colours.
Most frequently, the amount of the primary colour added is represented
as an integer in the closed range [0, 255] as seen in the example.
Therefore, there are 256 discrete amounts of each primary colour that
can be added to produce another colour. The number of discrete amounts
of each colour, 256, corresponds to the number of bits used to hold the
colour channel value, which is eight (2<sup>8</sup>=256). Since we have
three channels with 8 bits for each (8+8+8=24), this is called 24-bit
colour depth.</p>
<p>Any particular colour in the RGB model can be expressed by a triplet
of integers in [0, 255], representing the red, green, and blue channels,
respectively. A larger number in a channel means that more of that
primary colour is present.</p>
<div id="thinking-about-rgb-colours-5-min" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="thinking-about-rgb-colours-5-min" class="callout-inner">
<h3 class="callout-title">Thinking about RGB colours (5 min)</h3>
<div class="callout-content">
<p>Suppose that we represent colours as triples (r, g, b), where each of
r, g, and b is an integer in [0, 255]. What colours are represented by
each of these triples? (Try to answer these questions without reading
further.)</p>
<ol style="list-style-type: decimal"><li>(255, 0, 0)</li>
<li>(0, 255, 0)</li>
<li>(0, 0, 255)</li>
<li>(255, 255, 255)</li>
<li>(0, 0, 0)</li>
<li>(128, 128, 128)</li>
</ol></div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Show me the solution </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" aria-labelledby="headingSolution2" data-bs-parent="#accordionSolution2">
<div class="accordion-body">
<ol style="list-style-type: decimal"><li>(255, 0, 0) represents red, because the red channel is maximised,
while the other two channels have the minimum values.</li>
<li>(0, 255, 0) represents green.</li>
<li>(0, 0, 255) represents blue.</li>
<li>(255, 255, 255) is a little harder. When we mix the maximum value of
all three colour channels, we see the colour white.</li>
<li>(0, 0, 0) represents the absence of all colour, or black.</li>
<li>(128, 128, 128) represents a medium shade of gray. Note that the
24-bit RGB colour model provides at least 254 shades of gray, rather
than only fifty.</li>
</ol><p>Note that the RGB colour model may run contrary to your experience,
especially if you have mixed primary colours of paint to create new
colours. In the RGB model, the <em>lack of</em> any colour is black,
while the <em>maximum amount</em> of each of the primary colours is
white. With physical paint, we might start with a white base, and then
add differing amounts of other paints to produce a darker shade.</p>
</div>
</div>
</div>
</div>
<p>After completing the previous challenge, we can look at some further
examples of 24-bit RGB colours, in a visual way. The image in the next
challenge shows some colour names, their 24-bit RGB triplet values, and
the colour itself.</p>
<div id="rgb-colour-table-optional-not-included-in-timing" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="rgb-colour-table-optional-not-included-in-timing" class="callout-inner">
<h3 class="callout-title">RGB colour table (optional, not included in timing)</h3>
<div class="callout-content">
<figure><img src="fig/colour-table.png" alt="RGB colour table" class="figure mx-auto d-block"></figure><p>We cannot really provide a complete table. To see why, answer this
question: How many possible colours can be represented with the 24-bit
RGB model?</p>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3"> Show me the solution </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" aria-labelledby="headingSolution3" data-bs-parent="#accordionSolution3">
<div class="accordion-body">
<p>There are 24 total bits in an RGB colour of this type, and each bit
can be on or off, and so there are 2<sup>24</sup> = 16,777,216 possible
colours with our additive, 24-bit RGB colour model.</p>
</div>
</div>
</div>
</div>
<p>Although 24-bit colour depth is common, there are other options. For
example, we might have 8-bit colour (3 bits for red and green, but only
2 for blue, providing 8 × 8 × 4 = 256 colours) or 16-bit colour (4 bits
for red, green, and blue, plus 4 more for transparency, providing 16 ×
16 × 16 = 4096 colours, with 16 transparency levels each). There are
colour depths with more than eight bits per channel, but as the human
eye can only discern approximately 10 million different colours, these
are not often used.</p>
<p>If you are using an older or inexpensive laptop screen or LCD monitor
to view images, it may only support 18-bit colour, capable of displaying
64 × 64 × 64 = 262,144 colours. 24-bit colour images will be converted
in some manner to 18-bit, and thus the colour quality you see will not
match what is actually in the image.</p>
<p>We can combine our coordinate system with the 24-bit RGB colour model
to gain a conceptual understanding of the images we will be working
with. An image is a rectangular array of pixels, each with its own
coordinate. Each pixel in the image is a square point of coloured light,
where the colour is specified by a 24-bit RGB triplet. Such an image is
an example of <em>raster graphics</em>.</p>
</section><section><h2 class="section-heading" id="image-formats">Image formats<a class="anchor" aria-label="anchor" href="#image-formats"></a></h2>
<hr class="half-width"><p>Although the images we will manipulate in our programs are
conceptualised as rectangular arrays of RGB triplets, they are not
necessarily created, stored, or transmitted in that format. There are
several image formats we might encounter, and we should know the basics
of at least of few of them. Some formats we might encounter, and their
file extensions, are shown in this table:</p>
<table class="table"><thead><tr class="header"><th align="left">Format</th>
<th align="left">Extension</th>
</tr></thead><tbody><tr class="odd"><td align="left">Device-Independent Bitmap (BMP)</td>
<td align="left">.bmp</td>
</tr><tr class="even"><td align="left">Joint Photographic Experts Group (JPEG)</td>
<td align="left">.jpg or .jpeg</td>
</tr><tr class="odd"><td align="left">Tagged Image File Format (TIFF)</td>
<td align="left">.tif or .tiff</td>
</tr></tbody></table></section><section><h2 class="section-heading" id="bmp">BMP<a class="anchor" aria-label="anchor" href="#bmp"></a></h2>
<hr class="half-width"><p>The file format that comes closest to our preceding conceptualisation
of images is the Device-Independent Bitmap, or BMP, file format. BMP
files store raster graphics images as long sequences of binary-encoded
numbers that specify the colour of each pixel in the image. Since
computer files are one-dimensional structures, the pixel colours are
stored one row at a time. That is, the first row of pixels (those with
y-coordinate 0) are stored first, followed by the second row (those with
y-coordinate 1), and so on. Depending on how it was created, a BMP image
might have 8-bit, 16-bit, or 24-bit colour depth.</p>
<p>24-bit BMP images have a relatively simple file format, can be viewed
and loaded across a wide variety of operating systems, and have high
quality. However, BMP images are not <em>compressed</em>, resulting in
very large file sizes for any useful image resolutions.</p>
<p>The idea of image compression is important to us for two reasons:
first, compressed images have smaller file sizes, and are therefore
easier to store and transmit; and second, compressed images may not have
as much detail as their uncompressed counterparts, and so our programs
may not be able to detect some important aspect if we are working with
compressed images. Since compression is important to us, we should take
a brief detour and discuss the concept.</p>
</section><section><h2 class="section-heading" id="image-compression">Image compression<a class="anchor" aria-label="anchor" href="#image-compression"></a></h2>
<hr class="half-width"><p>Before discussing additional formats, familiarity with image
compression will be helpful. Let’s delve into that subject with a
challenge. For this challenge, you will need to know about bits / bytes
and how those are used to express computer storage capacities. If you
already know, you can skip to the challenge below.</p>
<div id="bits-and-bytes" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="bits-and-bytes" class="callout-inner">
<h3 class="callout-title">Bits and bytes</h3>
<div class="callout-content">
<p>Before we talk specifically about images, we first need to understand
how numbers are stored in a modern digital computer. When we think of a
number, we do so using a <em>decimal</em>, or <em>base-10</em>
place-value number system. For example, a number like 659 is 6 ×
10<sup>2</sup> + 5 × 10<sup>1</sup> + 9 × 10<sup>0</sup>. Each digit in
the number is multiplied by a power of 10, based on where it occurs, and
there are 10 digits that can occur in each position (0, 1, 2, 3, 4, 5,
6, 7, 8, 9).</p>
<p>In principle, computers could be constructed to represent numbers in
exactly the same way. But, the electronic circuits inside a computer are
much easier to construct if we restrict the numeric base to only two,
instead of 10. (It is easier for circuitry to tell the difference
between two voltage levels than it is to differentiate among 10 levels.)
So, values in a computer are stored using a <em>binary</em>, or
<em>base-2</em> place-value number system.</p>
<p>In this system, each symbol in a number is called a <em>bit</em>
instead of a digit, and there are only two values for each bit (0 and
1). We might imagine a four-bit binary number, 1101. Using the same kind
of place-value expansion as we did above for 659, we see that 1101 = 1 ×
2<sup>3</sup> + 1 × 2<sup>2</sup> + 0 × 2<sup>1</sup> + 1 ×
2<sup>0</sup>, which if we do the math is 8 + 4 + 0 + 1, or 13 in
decimal.</p>
<p>Internally, computers have a minimum number of bits that they work
with at a given time: eight. A group of eight bits is called a
<em>byte</em>. The amount of memory (RAM) and drive space our computers
have is quantified by terms like Megabytes (MB), Gigabytes (GB), and
Terabytes (TB). The following table provides more formal definitions for
these terms.</p>
<table class="table"><thead><tr class="header"><th align="left">Unit</th>
<th>Abbreviation</th>
<th align="left">Size</th>
</tr></thead><tbody><tr class="odd"><td align="left">Kilobyte</td>
<td>KB</td>
<td align="left">1024 bytes</td>
</tr><tr class="even"><td align="left">Megabyte</td>
<td>MB</td>
<td align="left">1024 KB</td>
</tr><tr class="odd"><td align="left">Gigabyte</td>
<td>GB</td>
<td align="left">1024 MB</td>
</tr><tr class="even"><td align="left">Terabyte</td>
<td>TB</td>
<td align="left">1024 GB</td>
</tr></tbody></table></div>
</div>
</div>
<div id="bmp-image-size-optional-not-included-in-timing" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="bmp-image-size-optional-not-included-in-timing" class="callout-inner">
<h3 class="callout-title">BMP image size (optional, not included in timing)</h3>
<div class="callout-content">
<p>Imagine that we have a fairly large, but very boring image: a 5,000 ×
5,000 pixel image composed of nothing but white pixels. If we used an
uncompressed image format such as BMP, with the 24-bit RGB colour model,
how much storage would be required for the file?</p>
</div>
</div>
</div>
<div id="accordionSolution4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution4" aria-expanded="false" aria-controls="collapseSolution4">
  <h4 class="accordion-header" id="headingSolution4"> Show me the solution </h4>
</button>
<div id="collapseSolution4" class="accordion-collapse collapse" aria-labelledby="headingSolution4" data-bs-parent="#accordionSolution4">
<div class="accordion-body">
<p>In such an image, there are 5,000 × 5,000 = 25,000,000 pixels, and 24
bits for each pixel, leading to 25,000,000 × 24 = 600,000,000 bits, or
75,000,000 bytes (71.5MB). That is quite a lot of space for a very
uninteresting image!</p>
</div>
</div>
</div>
</div>
<p>Since image files can be very large, various <em>compression</em>
schemes exist for saving (approximately) the same information while
using less space. These compression techniques can be categorised as
<em>lossless</em> or <em>lossy</em>.</p>
<div class="section level3">
<h3 id="lossless-compression">Lossless compression<a class="anchor" aria-label="anchor" href="#lossless-compression"></a></h3>
<p>In lossless image compression, we apply some algorithm (i.e., a
computerised procedure) to the image, resulting in a file that is
significantly smaller than the uncompressed BMP file equivalent would
be. Then, when we wish to load and view or process the image, our
program reads the compressed file, and reverses the compression process,
resulting in an image that is <em>identical</em> to the original.
Nothing is lost in the process – hence the term “lossless.”</p>
<p>The general idea of lossless compression is to somehow detect long
patterns of bytes in a file that are repeated over and over, and then
assign a smaller bit pattern to represent the longer sample. Then, the
compressed file is made up of the smaller patterns, rather than the
larger ones, thus reducing the number of bytes required to save the
file. The compressed file also contains a table of the substituted
patterns and the originals, so when the file is decompressed it can be
made identical to the original before compression.</p>
<p>To provide you with a concrete example, consider the 71.5 MB white
BMP image discussed above. When put through the zip compression utility
on Microsoft Windows, the resulting .zip file is only 72 KB in size!
That is, the .zip version of the image is three orders of magnitude
smaller than the original, and it can be decompressed into a file that
is byte-for-byte the same as the original. Since the original is so
repetitious - simply the same colour triplet repeated 25,000,000 times -
the compression algorithm can dramatically reduce the size of the
file.</p>
<p>If you work with .zip or .gz archives, you are dealing with lossless
compression.</p>
</div>
<div class="section level3">
<h3 id="lossy-compression">Lossy compression<a class="anchor" aria-label="anchor" href="#lossy-compression"></a></h3>
<p>Lossy compression takes the original image and discards some of the
detail in it, resulting in a smaller file format. The goal is to only
throw away detail that someone viewing the image would not notice. Many
lossy compression schemes have adjustable levels of compression, so that
the image creator can choose the amount of detail that is lost. The more
detail that is sacrificed, the smaller the image files will be - but of
course, the detail and richness of the image will be lower as well.</p>
<p>This is probably fine for images that are shown on Web pages or
printed off on 4 × 6 photo paper, but may or may not be fine for
scientific work. You will have to decide whether the loss of image
quality and detail are important to your work, versus the space savings
afforded by a lossy compression format.</p>
<p>It is important to understand that once an image is saved in a lossy
compression format, the lost detail is just that - lost. I.e., unlike
lossless formats, given an image saved in a lossy format, there is no
way to reconstruct the original image in a byte-by-byte manner.</p>
</div>
</section><section><h2 class="section-heading" id="jpeg">JPEG<a class="anchor" aria-label="anchor" href="#jpeg"></a></h2>
<hr class="half-width"><p>JPEG images are perhaps the most commonly encountered digital images
today. JPEG uses lossy compression, and the degree of compression can be
tuned to your liking. It supports 24-bit colour depth, and since the
format is so widely used, JPEG images can be viewed and manipulated
easily on all computing platforms.</p>
<div id="examining-actual-image-sizes-optional-not-included-in-timing" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="examining-actual-image-sizes-optional-not-included-in-timing" class="callout-inner">
<h3 class="callout-title">Examining actual image sizes (optional, not included in timing)</h3>
<div class="callout-content">
<p>Let us see the effects of image compression on image size with actual
images. The following script creates a square white image 5000 x 5000
pixels, and then saves it as a BMP and as a JPEG image.</p>
<div class="codewrapper sourceCode" id="cb22">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a>dim <span class="op">=</span> <span class="dv">5000</span></span>
<span id="cb22-2"><a href="#cb22-2" tabindex="-1"></a></span>
<span id="cb22-3"><a href="#cb22-3" tabindex="-1"></a>img <span class="op">=</span> np.zeros((dim, dim, <span class="dv">3</span>), dtype<span class="op">=</span><span class="st">"uint8"</span>)</span>
<span id="cb22-4"><a href="#cb22-4" tabindex="-1"></a>img.fill(<span class="dv">255</span>)</span>
<span id="cb22-5"><a href="#cb22-5" tabindex="-1"></a></span>
<span id="cb22-6"><a href="#cb22-6" tabindex="-1"></a>iio.imwrite(uri<span class="op">=</span><span class="st">"data/ws.bmp"</span>, image<span class="op">=</span>img)</span>
<span id="cb22-7"><a href="#cb22-7" tabindex="-1"></a>iio.imwrite(uri<span class="op">=</span><span class="st">"data/ws.jpg"</span>, image<span class="op">=</span>img)</span></code></pre>
</div>
<p>Examine the file sizes of the two output files, <code>ws.bmp</code>
and <code>ws.jpg</code>. Does the BMP image size match our previous
prediction? How about the JPEG?</p>
</div>
</div>
</div>
<div id="accordionSolution5" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution5" aria-expanded="false" aria-controls="collapseSolution5">
  <h4 class="accordion-header" id="headingSolution5"> Show me the solution </h4>
</button>
<div id="collapseSolution5" class="accordion-collapse collapse" aria-labelledby="headingSolution5" data-bs-parent="#accordionSolution5">
<div class="accordion-body">
<p>The BMP file, <code>ws.bmp</code>, is 75,000,054 bytes, which matches
our prediction very nicely. The JPEG file, <code>ws.jpg</code>, is
392,503 bytes, two orders of magnitude smaller than the bitmap
version.</p>
</div>
</div>
</div>
</div>
<div id="comparing-lossless-versus-lossy-compression-optional-not-included-in-timing" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="comparing-lossless-versus-lossy-compression-optional-not-included-in-timing" class="callout-inner">
<h3 class="callout-title">Comparing lossless versus lossy compression (optional, not included in timing)</h3>
<div class="callout-content">
<p>Let us see a hands-on example of lossless versus lossy compression.
Open a terminal (or Windows PowerShell) and navigate to the
<code>data/</code> directory. The two output images, <code>ws.bmp</code>
and <code>ws.jpg</code>, should still be in the directory, along with
another image, <code>tree.jpg</code>.</p>
<p>We can apply lossless compression to any file by using the
<code>zip</code> command. Recall that the <code>ws.bmp</code> file
contains 75,000,054 bytes. Apply lossless compression to this image by
executing the following command: <code>zip ws.zip ws.bmp</code>
(<code>Compress-Archive ws.bmp ws.zip</code> with PowerShell). This
command tells the computer to create a new compressed file,
<code>ws.zip</code>, from the original bitmap image. Execute a similar
command on the tree JPEG file: <code>zip tree.zip tree.jpg</code>
(<code>Compress-Archive tree.jpg tree.zip</code> with PowerShell).</p>
<p>Having created the compressed file, use the <code>ls -l</code>
command (<code>dir</code> with PowerShell) to display the contents of
the directory. How big are the compressed files? How do those compare to
the size of <code>ws.bmp</code> and <code>tree.jpg</code>? What can you
conclude from the relative sizes?</p>
</div>
</div>
</div>
<div id="accordionSolution6" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution6" aria-expanded="false" aria-controls="collapseSolution6">
  <h4 class="accordion-header" id="headingSolution6"> Show me the solution </h4>
</button>
<div id="collapseSolution6" class="accordion-collapse collapse" aria-labelledby="headingSolution6" data-bs-parent="#accordionSolution6">
<div class="accordion-body">
<p>Here is a partial directory listing, showing the sizes of the
relevant files there:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>-rw-rw-r--  1 diva diva   154344 Jun 18 08:32 tree.jpg
-rw-rw-r--  1 diva diva   146049 Jun 18 08:53 tree.zip
-rw-rw-r--  1 diva diva 75000054 Jun 18 08:51 ws.bmp
-rw-rw-r--  1 diva diva    72986 Jun 18 08:53 ws.zip</code></pre>
</div>
<p>We can see that the regularity of the bitmap image (remember, it is a
5,000 x 5,000 pixel image containing only white pixels) allows the
lossless compression scheme to compress the file quite effectively. On
the other hand, compressing <code>tree.jpg</code> does not create a much
smaller file; this is because the JPEG image was already in a compressed
format.</p>
</div>
</div>
</div>
</div>
<p>Here is an example showing how JPEG compression might impact image
quality. Consider this image of several maize seedlings (scaled down
here from 11,339 × 11,336 pixels in order to fit the display).</p>
<figure><img src="fig/quality-original.jpg" alt="Original image" class="figure mx-auto d-block"></figure><p>Now, let us zoom in and look at a small section of the label in the
original, first in the uncompressed format:</p>
<figure><img src="fig/quality-tif.jpg" alt="Enlarged, uncompressed" class="figure mx-auto d-block"></figure><p>Here is the same area of the image, but in JPEG format. We used a
fairly aggressive compression parameter to make the JPEG, in order to
illustrate the problems you might encounter with the format.</p>
<figure><img src="fig/quality-jpg.jpg" alt="Enlarged, compressed" class="figure mx-auto d-block"></figure><p>The JPEG image is of clearly inferior quality. It has less colour
variation and noticeable pixelation. Quality differences become even
more marked when one examines the colour histograms for each image. A
histogram shows how often each colour value appears in an image. The
histograms for the uncompressed (left) and compressed (right) images are
shown below:</p>
<figure><img src="fig/quality-histogram.jpg" alt="Uncompressed histogram" class="figure mx-auto d-block"></figure><p>We learn how to make histograms such as these later on in the
workshop. The differences in the colour histograms are even more
apparent than in the images themselves; clearly the colours in the JPEG
image are different from the uncompressed version.</p>
<p>If the quality settings for your JPEG images are high (and the
compression rate therefore relatively low), the images may be of
sufficient quality for your work. It all depends on how much quality you
need, and what restrictions you have on image storage space. Another
consideration may be <em>where</em> the images are stored. For example,
if your images are stored in the cloud and therefore must be downloaded
to your system before you use them, you may wish to use a compressed
image format to speed up file transfer time.</p>
</section><section><h2 class="section-heading" id="png">PNG<a class="anchor" aria-label="anchor" href="#png"></a></h2>
<hr class="half-width"><p>PNG images are well suited for storing diagrams. It uses a lossless
compression and is hence often used in web applications for
non-photographic images. The format is able to store RGB and plain
luminance (single channel, without an associated color) data, among
others. Image data is stored row-wise and then, per row, a simple
filter, like taking the difference of adjacent pixels, can be applied to
increase the compressability of the data. The filtered data is then
compressed in the next step and written out to the disk.</p>
</section><section><h2 class="section-heading" id="tiff">TIFF<a class="anchor" aria-label="anchor" href="#tiff"></a></h2>
<hr class="half-width"><p>TIFF images are popular with publishers, graphics designers, and
photographers. TIFF images can be uncompressed, or compressed using
either lossless or lossy compression schemes, depending on the settings
used, and so TIFF images seem to have the benefits of both the BMP and
JPEG formats. The main disadvantage of TIFF images (other than the size
of images in the uncompressed version of the format) is that they are
not universally readable by image viewing and manipulation software.</p>
</section><section><h2 class="section-heading" id="metadata">Metadata<a class="anchor" aria-label="anchor" href="#metadata"></a></h2>
<hr class="half-width"><p>JPEG and TIFF images support the inclusion of <em>metadata</em> in
images. Metadata is textual information that is contained within an
image file. Metadata holds information about the image itself, such as
when the image was captured, where it was captured, what type of camera
was used and with what settings, etc. We normally don’t see this
metadata when we view an image, but we can view it independently if we
wish to (see <a href="#accessing-metadata"><em>Accessing
Metadata</em></a>, below). The important thing to be aware of at this
stage is that you cannot rely on the metadata of an image being fully
preserved when you use software to process that image. The image
reader/writer library that we use throughout this lesson,
<code>imageio.v3</code>, includes metadata when saving new images but
may fail to keep certain metadata fields. In any case, remember:
<strong>if metadata is important to you, take precautions to always
preserve the original files</strong>.</p>
<div id="accessing-metadata" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="accessing-metadata" class="callout-inner">
<h3 class="callout-title">Accessing Metadata</h3>
<div class="callout-content">
<p><code>imageio.v3</code> provides a way to display or explore the
metadata associated with an image. Metadata is served independently from
pixel data:</p>
<div class="codewrapper sourceCode" id="cb24">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" tabindex="-1"></a><span class="co"># read metadata</span></span>
<span id="cb24-2"><a href="#cb24-2" tabindex="-1"></a>metadata <span class="op">=</span> iio.immeta(uri<span class="op">=</span><span class="st">"data/eight.tif"</span>)</span>
<span id="cb24-3"><a href="#cb24-3" tabindex="-1"></a><span class="co"># display the format-specific metadata</span></span>
<span id="cb24-4"><a href="#cb24-4" tabindex="-1"></a>metadata</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>{'is_fluoview': False,
 'is_nih': False,
 'is_micromanager': False,
 'is_ome': False,
 'is_lsm': False,
 'is_reduced': False,
 'is_shaped': True,
 'is_stk': False,
 'is_tiled': False,
 'is_mdgel': False,
 'compression': &lt;COMPRESSION.NONE: 1&gt;,
 'predictor': 1,
 'is_mediacy': False,
 'description': '{"shape": [5, 3]}',
 'description1': '',
 'is_imagej': False,
 'software': 'tifffile.py',
 'resolution_unit': 1,
 'resolution': (1.0, 1.0, 'NONE')}</code></pre>
</div>
<p>Many popular image editing programs have built-in metadata viewing
capabilities. A platform-independent open-source tool that allows users
to read, write, and edit metadata is <a href="https://exiftool.org/" class="external-link">ExifTool</a>. It can handle a wide range of
file types and metadata formats but requires some technical knowledge to
be used effectively. Other software exists that can help you handle
metadata, e.g., <a href="https://imagej.net/Fiji" class="external-link">Fiji</a> and <a href="https://imagemagick.org/index.php" class="external-link">ImageMagick</a>. You may want
to explore these options if you need to work with the metadata of your
images.</p>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="summary-of-image-formats-used-in-this-lesson">Summary of image formats used in this lesson<a class="anchor" aria-label="anchor" href="#summary-of-image-formats-used-in-this-lesson"></a></h2>
<hr class="half-width"><p>The following table summarises the characteristics of the BMP, JPEG,
and TIFF image formats:</p>
<table class="table"><colgroup><col width="19%"><col width="15%"><col width="12%"><col width="26%"><col width="26%"></colgroup><thead><tr class="header"><th align="left">Format</th>
<th align="left">Compression</th>
<th align="left">Metadata</th>
<th align="left">Advantages</th>
<th align="left">Disadvantages</th>
</tr></thead><tbody><tr class="odd"><td align="left">BMP</td>
<td align="left">None</td>
<td align="left">None</td>
<td align="left">Universally viewable, high quality</td>
<td align="left">Large file sizes</td>
</tr><tr class="even"><td align="left">JPEG</td>
<td align="left">Lossy</td>
<td align="left">Yes</td>
<td align="left">Universally viewable, smaller file size</td>
<td align="left">Detail may be lost</td>
</tr><tr class="odd"><td align="left">PNG</td>
<td align="left">Lossless</td>
<td align="left"><a href="https://www.w3.org/TR/PNG/#11keywords" class="external-link">Yes</a></td>
<td align="left">Universally viewable, <a href="https://www.w3.org/TR/PNG/" class="external-link">open standard</a>, smaller file
size</td>
<td align="left">Metadata less flexible than TIFF, RGB only</td>
</tr><tr class="even"><td align="left">TIFF</td>
<td align="left">None, lossy, or lossless</td>
<td align="left">Yes</td>
<td align="left">High quality or smaller file size</td>
<td align="left">Not universally viewable</td>
</tr></tbody></table><div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul><li>Digital images are represented as rectangular arrays of square
pixels.</li>
<li>Digital images use a left-hand coordinate system, with the origin in
the upper left corner, the x-axis running to the right, and the y-axis
running down. Some learners may prefer to think in terms of counting
down rows for the y-axis and across columns for the x-axis. Thus, we
will make an effort to allow for both approaches in our lesson
presentation.</li>
<li>Most frequently, digital images use an additive RGB model, with
eight bits for the red, green, and blue channels.</li>
<li>scikit-image images are stored as multi-dimensional NumPy
arrays.</li>
<li>In scikit-image images, the red channel is specified first, then the
green, then the blue, i.e., RGB.</li>
<li>Lossless compression retains all the details in an image, but lossy
compression results in loss of some of the original image detail.</li>
<li>BMP images are uncompressed, meaning they have high quality but also
that their file sizes are large.</li>
<li>JPEG images use lossy compression, meaning that their file sizes are
smaller, but image quality may suffer.</li>
<li>TIFF images can be uncompressed or compressed with lossy or lossless
compression.</li>
<li>Depending on the camera or sensor, various useful pieces of
information may be stored in an image file, in the image metadata.</li>
</ul></div>
</div>
</div>
</section></div> <!-- / div.lesson-content -->
    </main><!-- / main#main-content.main-content --><nav class="bottom-pagination mx-md-4" aria-label="Previous and Next Chapter"><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="01-introduction.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous</a>
        <a class="chapter-link float-end" href="03-skimage-images.html">Next<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="01-introduction.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Previous: Introduction
        </a>
        <a class="chapter-link float-end" href="03-skimage-images.html" rel="next">
          Next: Working with...
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
    </nav></div> <!-- / div.primary-content.col-xs-12 -->
<!-- END:   inst/pkgdown/templates/content-instructor.html-->

      </div><!--/div.row-->
      		<footer class="row footer mx-md-3"><hr><div class="col-md-6">
        <p>This lesson is subject to the <a href="CODE_OF_CONDUCT.html">Code of Conduct</a></p>
        <p>

        <a href="https://github.com/datacarpentry/image-processing/edit/main/episodes/02-image-basics.md" class="external-link">Edit on GitHub</a>

	
        | <a href="https://github.com/datacarpentry/image-processing/blob/main/CONTRIBUTING.md" class="external-link">Contributing</a>
        | <a href="https://github.com/datacarpentry/image-processing/" class="external-link">Source</a></p>
				<p><a href="https://github.com/datacarpentry/image-processing/blob/main/CITATION" class="external-link">Cite</a> | <a href="mailto:team@carpentries.org">Contact</a> | <a href="https://carpentries.org/about/" class="external-link">About</a></p>
			</div>
			<div class="col-md-6">

        <p>Materials licensed under <a href="LICENSE.html">CC-BY 4.0</a> by the authors</p>

        <p>Template licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/" class="external-link">CC-BY 4.0</a> by <a href="https://carpentries.org/" class="external-link">The Carpentries</a></p>
        <p>Built with <a href="https://github.com/carpentries/sandpaper/tree/0.16.12" class="external-link">sandpaper (0.16.12)</a>, <a href="https://github.com/carpentries/pegboard/tree/0.7.9" class="external-link">pegboard (0.7.9)</a>, and <a href="https://github.com/carpentries/varnish/tree/1.0.6" class="external-link">varnish (1.0.6)</a></p>
			</div>
		</footer></div> <!-- / div.container -->
	<div id="to-top">
		<a href="#top">
      <i class="search-icon" data-feather="arrow-up" role="img" aria-label="Back To Top"></i><br><!-- <span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top --><span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top
		</a>
	</div>
  <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "LearningResource",
  "@id": "https://datacarpentry.github.io/image-processing/02-image-basics.html",
  "inLanguage": "en",
  "dct:conformsTo": "https://bioschemas.org/profiles/LearningResource/1.0-RELEASE",
  "description": "A Carpentries Lesson teaching foundational data and coding skills to researchers worldwide",
  "keywords": "software, data, lesson, The Carpentries",
  "name": "Image Basics",
  "creativeWorkStatus": "active",
  "url": "https://datacarpentry.github.io/image-processing/02-image-basics.html",
  "identifier": "https://datacarpentry.github.io/image-processing/02-image-basics.html",
  "dateCreated": "2017-03-14",
  "dateModified": "2024-12-01",
  "datePublished": "2025-06-03"
}

  </script><script>
		feather.replace();
	</script><!-- Matomo --><script>
          var _paq = window._paq = window._paq || [];
          /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
          _paq.push(["setDocumentTitle", document.domain + "/" + document.title]);
          _paq.push(["setDomains", ["*.lessons.carpentries.org","*.datacarpentry.github.io","*.datacarpentry.org","*.librarycarpentry.github.io","*.librarycarpentry.org","*.swcarpentry.github.io", "*.carpentries.github.io"]]);
          _paq.push(["setDoNotTrack", true]);
          _paq.push(["disableCookies"]);
          _paq.push(["trackPageView"]);
          _paq.push(["enableLinkTracking"]);
          (function() {
              var u="https://matomo.carpentries.org/";
              _paq.push(["setTrackerUrl", u+"matomo.php"]);
              _paq.push(["setSiteId", "1"]);
              var d=document, g=d.createElement("script"), s=d.getElementsByTagName("script")[0];
              g.async=true; g.src="https://matomo.carpentries.org/matomo.js"; s.parentNode.insertBefore(g,s);
          })();
        </script><!-- End Matomo Code --></body></html><!-- END:   inst/pkgdown/templates/layout.html-->

