<!DOCTYPE html>
<!-- START: inst/pkgdown/templates/layout.html --><!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><title>Image Processing with Python: Blurring Images</title><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="stylesheet" type="text/css" href="../assets/styles.css"><script src="../assets/scripts.js" type="text/javascript"></script><!-- mathjax --><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      config: ["MMLorHTML.js"],
      jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML", "output/PreviewHTML"],
      extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js", "fast-preview.js", "AssistiveMML.js", "a11y/accessibility-menu.js"],
      TeX: {
        extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
      },
      tex2jax: {
        inlineMath: [['\\(', '\\)']],
        displayMath: [ ['$$','$$'], ['\\[', '\\]'] ],
        processEscapes: true
      }
    });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><!-- Responsive Favicon for The Carpentries --><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="manifest" href="../site.webmanifest"><link rel="mask-icon" href="../safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" content="#ffffff"></head><body>
    <header id="top" class="navbar navbar-expand-md navbar-light bg-white top-nav data"><a class="visually-hidden-focusable skip-link" href="#main-content">Skip to main content</a>
  <div class="container-fluid top-nav-container">
    <div class="col-md-6">
      <div class="large-logo">
        <img alt="Data Carpentry" src="../assets/images/data-logo.svg"></div>
    </div>
    <div class="selector-container">
      
      
      <div class="dropdown">
        <button class="btn btn-secondary dropdown-toggle bordered-button" type="button" id="dropdownMenu1" data-bs-toggle="dropdown" aria-expanded="false">
          <i aria-hidden="true" class="icon" data-feather="eye"></i> Instructor View <i data-feather="chevron-down"></i>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1"><li><button class="dropdown-item" type="button" onclick="window.location.href='../06-blurring.html';">Learner View</button></li>
        </ul></div>
    </div>
  </div>
  <hr></header><nav class="navbar navbar-expand-xl navbar-light bg-white bottom-nav data" aria-label="Main Navigation"><div class="container-fluid nav-container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle Navigation">
      <span class="navbar-toggler-icon"></span>
      <span class="menu-title">Menu</span>
    </button>
    <div class="nav-logo">
      <img class="small-logo" alt="Data Carpentry" src="../assets/images/data-logo-sm.svg"></div>
    <div class="lesson-title-md">
      Image Processing with Python
    </div>
    <div class="search-icon-sm">
      <!-- TODO: do not show until we have search
        <i role="img" aria-label="Search the All In One page" data-feather="search"></i>
      -->
    </div>
    <div class="desktop-nav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0"><li class="nav-item">
          <span class="lesson-title">
            Image Processing with Python
          </span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/key-points.html">Key Points</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/instructor-notes.html">Instructor Notes</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/images.html">Extract All Images</a>
        </li>
        <li class="nav-item dropdown">
          <button class="nav-link dropdown-toggle" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            More <i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown"><hr><li><a class="dropdown-item" href="discuss.html">Discussion</a></li><li><a class="dropdown-item" href="edge-detection.html">Extra Episode: Edge Detection</a></li><li><a class="dropdown-item" href="prereqs.html">Prerequisites</a></li><li><a class="dropdown-item" href="reference.html">Reference</a></li>
          </ul></li>
      </ul></div>
    <!--
    <form class="d-flex col-md-2 search-form">
      <fieldset disabled>
      <input class="form-control me-2 searchbox" type="search" placeholder="" aria-label="">
        <button class="btn btn-outline-success tablet-search-button"  type="submit">
          <i class="search-icon" data-feather="search" role="img" aria-label="Search the All In One page"></i>
        </button>
      </fieldset>
    </form>
    -->
    <a class="btn btn-primary" href="../aio.html" role="button" aria-label="Search the All In One page">Search the All In One page</a>
  </div><!--/div.container-fluid -->
</nav><div class="col-md-12 mobile-title">
  Image Processing with Python
</div>

<aside class="col-md-12 lesson-progress"><div style="width: 48%" class="percentage">
    48%
  </div>
  <div class="progress data">
    <div class="progress-bar data" role="progressbar" style="width: 48%" aria-valuenow="48" aria-label="Lesson Progress" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
</aside><div class="container">
      <div class="row">
        <!-- START: inst/pkgdown/templates/navbar.html -->
<div id="sidebar-col" class="col-lg-4">
  <div id="sidebar" class="sidebar">
      <nav aria-labelledby="flush-headingEleven"><button role="button" aria-label="close menu" alt="close menu" aria-expanded="true" aria-controls="sidebar" class="collapse-toggle" data-collapse="Collapse " data-episodes="Episodes ">
          <i class="search-icon" data-feather="x" role="img"></i>
        </button>
        <div class="sidebar-inner">
          <div class="row mobile-row">
            <div class="col">
              <div class="sidenav-view-selector">
                <div class="accordion accordion-flush" id="accordionFlush9">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingNine">
                      <button class="accordion-button collapsed" id="instructor" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseNine" aria-expanded="false" aria-controls="flush-collapseNine">
                        <i id="eye" aria-hidden="true" class="icon" data-feather="eye"></i> Instructor View
                      </button>
                    </h2>
                    <div id="flush-collapseNine" class="accordion-collapse collapse" aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlush2">
                      <div class="accordion-body">
                        <a href="../06-blurring.html">Learner View</a>
                      </div>
                    </div>
                  </div><!--/div.accordion-item-->
                </div><!--/div.accordion-flush-->
              </div><!--div.sidenav-view-selector -->
            </div><!--/div.col -->
      
            <hr></div><!--/div.mobile-row -->

          <div class="accordion accordion-flush" id="accordionFlush11">
            <div class="accordion-item">

              <button id="chapters" class="accordion-button show" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEleven" aria-expanded="false" aria-controls="flush-collapseEleven">
                <h2 class="accordion-header chapters" id="flush-headingEleven">
                  EPISODES
                </h2>
              </button>
              <div id="flush-collapseEleven" class="accordion-collapse show collapse" aria-labelledby="flush-headingEleven" data-bs-parent="#accordionFlush11">

                <div class="accordion-body">
                  <div class="accordion accordion-flush" id="accordionFlush1">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading1">
        <a href="index.html">Summary and Schedule</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush2">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading2">
        <a href="01-introduction.html">1. Introduction</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush3">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading3">
        <a href="02-image-basics.html">2. Image Basics</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush4">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading4">
        <a href="03-skimage-images.html">3. Working with scikit-image</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush5">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading5">
        <a href="04-drawing.html">4. Drawing and Bitwise Operations</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush6">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading6">
        <a href="05-creating-histograms.html">5. Creating Histograms</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlushcurrent">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-headingcurrent">
      <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapsecurrent" aria-expanded="true" aria-controls="flush-collapsecurrent">
        <span class="visually-hidden">Current Chapter</span>
        <span class="current-chapter">
        6. Blurring Images
        </span>
      </button>
    </div><!--/div.accordion-header-->
        
    <div id="flush-collapsecurrent" class="accordion-collapse collapse show" aria-labelledby="flush-headingcurrent" data-bs-parent="#accordionFlushcurrent">
      <div class="accordion-body">
        <ul><li><a href="#gaussian-blur">Gaussian blur</a></li>
<li><a href="#visualising-blurring">Visualising Blurring</a></li>
<li><a href="#other-methods-of-blurring">Other methods of blurring</a></li>
        </ul></div><!--/div.accordion-body-->
    </div><!--/div.accordion-collapse-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush8">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading8">
        <a href="07-thresholding.html">7. Thresholding</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush9">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading9">
        <a href="08-connected-components.html">8. Connected Component Analysis</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush10">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading10">
        <a href="09-challenges.html">9. Capstone Challenge</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

                </div>
              </div>
            </div>

            <hr class="half-width"><div class="accordion accordion-flush resources" id="accordionFlush12">
              <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingTwelve">
                  <button class="accordion-button collapsed" id="resources" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwelve" aria-expanded="false" aria-controls="flush-collapseTwelve">
                    RESOURCES
                  </button>
                </h2>
                <div id="flush-collapseTwelve" class="accordion-collapse collapse" aria-labelledby="flush-headingTwelve" data-bs-parent="#accordionFlush12">
                  <div class="accordion-body">
                    <ul><li>
                        <a href="../instructor/key-points.html">Key Points</a>
                      </li>
                      <li>
                        <a href="../instructor/instructor-notes.html">Instructor Notes</a>
                      </li>
                      <li>
                        <a href="../instructor/images.html">Extract All Images</a>
                      </li>
                      <hr><li><a class="dropdown-item" href="discuss.html">Discussion</a></li><li><a class="dropdown-item" href="edge-detection.html">Extra Episode: Edge Detection</a></li><li><a class="dropdown-item" href="prereqs.html">Prerequisites</a></li><li><a class="dropdown-item" href="reference.html">Reference</a></li>
                    </ul></div>
                </div>
              </div>
            </div>
            <hr class="half-width resources"><a href="../instructor/aio.html">See all in one page</a>
            

            <hr class="d-none d-sm-block d-md-none"><div class="d-grid gap-1">
            
            </div>
          </div><!-- /div.accordion -->
        </div><!-- /div.sidebar-inner -->
      </nav></div><!-- /div.sidebar -->
  </div><!-- /div.sidebar-col -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

        <!-- START: inst/pkgdown/templates/content-instructor.html -->
  <div class="col-xl-8 col-lg-12 primary-content">
    <nav class="lesson-content mx-md-4" aria-label="Previous and Next Chapter"><!-- content for small screens --><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="../instructor/05-creating-histograms.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous</a>
        <a class="chapter-link float-end" href="../instructor/07-thresholding.html">Next<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="../instructor/05-creating-histograms.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Previous: Creating Histograms
        </a>
        <a class="chapter-link float-end" href="../instructor/07-thresholding.html" rel="next">
          Next: Thresholding... 
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
      <hr></nav><main id="main-content" class="main-content"><div class="container lesson-content">
        <h1>Blurring Images</h1>
        <p>Last updated on 2024-03-12 |
        
        <a href="https://github.com/datacarpentry/image-processing/edit/main/episodes/06-blurring.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
        
        
        
        <p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 60 minutes</p>
        
        <div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>

        

<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul><li>How can we apply a low-pass blurring filter to an image?</li>
</ul></div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul><li>Explain why applying a low-pass blurring filter to an image is
beneficial.</li>
<li>Apply a Gaussian blur filter to an image using scikit-image.</li>
</ul></div>
</div>
</div>
</div>
</div>
<p>In this episode, we will learn how to use scikit-image functions to
blur images.</p>
<p>When processing an image, we are often interested in identifying
objects represented within it so that we can perform some further
analysis of these objects, e.g., by counting them, measuring their
sizes, etc. An important concept associated with the identification of
objects in an image is that of <em>edges</em>: the lines that represent
a transition from one group of similar pixels in the image to another
different group. One example of an edge is the pixels that represent the
boundaries of an object in an image, where the background of the image
ends and the object begins.</p>
<p>When we blur an image, we make the colour transition from one side of
an edge in the image to another smooth rather than sudden. The effect is
to average out rapid changes in pixel intensity. Blurring is a very
common operation we need to perform before other tasks such as <a href="07-thresholding.html">thresholding</a>. There are several
different blurring functions in the <code>ski.filters</code> module, so
we will focus on just one here, the <em>Gaussian blur</em>.</p>
<div id="filters" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="filters" class="callout-inner">
<h3 class="callout-title">Filters<a class="anchor" aria-label="anchor" href="#filters"></a>
</h3>
<div class="callout-content">
<p>In the day-to-day, macroscopic world, we have physical filters which
separate out objects by size. A filter with small holes allows only
small objects through, leaving larger objects behind. This is a good
analogy for image filters. A high-pass filter will retain the smaller
details in an image, filtering out the larger ones. A low-pass filter
retains the larger features, analogous to what’s left behind by a
physical filter mesh. <em>High-</em> and *low-*pass, here, refer to high
and low <em>spatial frequencies</em> in the image. Details associated
with high spatial frequencies are small, a lot of these features would
fit across an image. Features associated with low spatial frequencies
are large - maybe a couple of big features per image.</p>
</div>
</div>
</div>
<div id="blurring" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="blurring" class="callout-inner">
<h3 class="callout-title">Blurring<a class="anchor" aria-label="anchor" href="#blurring"></a>
</h3>
<div class="callout-content">
<p>To blur is to make something less clear or distinct. This could be
interpreted quite broadly in the context of image analysis - anything
that reduces or distorts the detail of an image might apply. Applying a
low-pass filter, which removes detail occurring at high spatial
frequencies, is perceived as a blurring effect. A Gaussian blur is a
filter that makes use of a Gaussian kernel.</p>
</div>
</div>
</div>
<div id="kernels" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="kernels" class="callout-inner">
<h3 class="callout-title">Kernels<a class="anchor" aria-label="anchor" href="#kernels"></a>
</h3>
<div class="callout-content">
<p>A kernel can be used to implement a filter on an image. A kernel, in
this context, is a small matrix which is combined with the image using a
mathematical technique: <em>convolution</em>. Different sizes, shapes
and contents of kernel produce different effects. The kernel can be
thought of as a little image in itself, and will favour features of
similar size and shape in the main image. On convolution with an image,
a big, blobby kernel will retain big, blobby, low spatial frequency
features.</p>
</div>
</div>
</div>
<section id="gaussian-blur"><h2 class="section-heading">Gaussian blur<a class="anchor" aria-label="anchor" href="#gaussian-blur"></a>
</h2>
<hr class="half-width"><p>Consider this image of a cat, in particular the area of the image
outlined by the white square.</p>
<figure><img src="../fig/cat.jpg" alt="Cat image" class="figure mx-auto d-block"></figure><p>Now, zoom in on the area of the cat’s eye, as shown in the left-hand
image below. When we apply a filter, we consider each pixel in the
image, one at a time. In this example, the pixel we are currently
working on is highlighted in red, as shown in the right-hand image.</p>
<figure><img src="../fig/cat-eye-pixels.jpg" alt="Cat eye pixels" class="figure mx-auto d-block"></figure><p>When we apply a filter, we consider rectangular groups of pixels
surrounding each pixel in the image, in turn. The <em>kernel</em> is
another group of pixels (a separate matrix / small image), of the same
dimensions as the rectangular group of pixels in the image, that moves
along with the pixel being worked on by the filter. The width and height
of the kernel must be an odd number, so that the pixel being worked on
is always in its centre. In the example shown above, the kernel is
square, with a dimension of seven pixels.</p>
<p>To apply the kernel to the current pixel, an average of the colour
values of the pixels surrounding it is calculated, weighted by the
values in the kernel. In a Gaussian blur, the pixels nearest the centre
of the kernel are given more weight than those far away from the centre.
The rate at which this weight diminishes is determined by a Gaussian
function, hence the name Gaussian blur.</p>
<p>A Gaussian function maps random variables into a normal distribution
or “Bell Curve”. <img src="../fig/Normal_Distribution_PDF.svg" alt="Gaussian function" class="figure"></p>
<div class="line-block">
<em><a href="https://en.wikipedia.org/wiki/Gaussian_function#/media/File:Normal_Distribution_PDF.svg" class="external-link">https://en.wikipedia.org/wiki/Gaussian_function#/media/File:Normal_Distribution_PDF.svg</a></em>
|</div>
<p>The shape of the function is described by a mean value μ, and a
variance value σ². The mean determines the central point of the bell
curve on the X axis, and the variance describes the spread of the
curve.</p>
<p>In fact, when using Gaussian functions in Gaussian blurring, we use a
2D Gaussian function to account for X and Y dimensions, but the same
rules apply. The mean μ is always 0, and represents the middle of the 2D
kernel. Increasing values of σ² in either dimension increases the amount
of blurring in that dimension.</p>
<figure><img src="../fig/Gaussian_2D.png" alt="2D Gaussian function" class="figure mx-auto d-block"></figure><div class="line-block">
<em><a href="https://commons.wikimedia.org/wiki/File:Gaussian_2D.png" class="external-link">https://commons.wikimedia.org/wiki/File:Gaussian_2D.png</a></em>
|</div>
<p>The averaging is done on a channel-by-channel basis, and the average
channel values become the new value for the pixel in the filtered image.
Larger kernels have more values factored into the average, and this
implies that a larger kernel will blur the image more than a smaller
kernel.</p>
<p>To get an idea of how this works, consider this plot of the
two-dimensional Gaussian function:</p>
<figure><img src="../fig/gaussian-kernel.png" alt="2D Gaussian function" class="figure mx-auto d-block"></figure><p>Imagine that plot laid over the kernel for the Gaussian blur filter.
The height of the plot corresponds to the weight given to the underlying
pixel in the kernel. I.e., the pixels close to the centre become more
important to the filtered pixel colour than the pixels close to the
outer limits of the kernel. The shape of the Gaussian function is
controlled via its standard deviation, or sigma. A large sigma value
results in a flatter shape, while a smaller sigma value results in a
more pronounced peak. The mathematics involved in the Gaussian blur
filter are not quite that simple, but this explanation gives you the
basic idea.</p>
<p>To illustrate the blurring process, consider the blue channel colour
values from the seven-by-seven region of the cat image above:</p>
<figure><img src="../fig/cat-corner-blue.png" alt="Image corner pixels" class="figure mx-auto d-block"></figure><p>The filter is going to determine the new blue channel value for the
centre pixel – the one that currently has the value 86. The filter
calculates a weighted average of all the blue channel values in the
kernel giving higher weight to the pixels near the centre of the
kernel.</p>
<figure><img src="../fig/combination.png" alt="Image multiplication" class="figure mx-auto d-block"></figure><p>This weighted average, the sum of the multiplications, becomes the
new value for the centre pixel (3, 3). The same process would be used to
determine the green and red channel values, and then the kernel would be
moved over to apply the filter to the next pixel in the image.</p>
<div id="accordionInstructor1" class="accordion instructor-note accordion-flush">
<div class="accordion-item">
<button class="accordion-button instructor-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseInstructor1" aria-expanded="false" aria-controls="collapseInstructor1">
  <h3 class="accordion-header" id="headingInstructor1">
<div class="note-square"><i aria-hidden="true" class="callout-icon" data-feather="edit-2"></i></div>Terminology about image boundaries</h3>
</button>
<div id="collapseInstructor1" class="accordion-collapse collapse" data-bs-parent="#accordionInstructor1" aria-labelledby="headingInstructor1">
<div class="accordion-body">
<p>Take care to avoid mixing up the term “edge” to describe the edges of
objects <em>within</em> an image and the outer boundaries of the images
themselves. Lack of a clear distinction here may be confusing for
learners.</p>
</div>
</div>
</div>
</div>
<div id="image-edges" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="image-edges" class="callout-inner">
<h3 class="callout-title">Image edges<a class="anchor" aria-label="anchor" href="#image-edges"></a>
</h3>
<div class="callout-content">
<p>Something different needs to happen for pixels near the outer limits
of the image, since the kernel for the filter may be partially off the
image. For example, what happens when the filter is applied to the
upper-left pixel of the image? Here are the blue channel pixel values
for the upper-left pixel of the cat image, again assuming a
seven-by-seven kernel:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>  x   x   x   x   x   x   x
  x   x   x   x   x   x   x
  x   x   x   x   x   x   x
  x   x   x   4   5   9   2
  x   x   x   5   3   6   7
  x   x   x   6   5   7   8
  x   x   x   5   4   5   3</code></pre>
</div>
<p>The upper-left pixel is the one with value 4. Since the pixel is at
the upper-left corner, there are no pixels underneath much of the
kernel; here, this is represented by x’s. So, what does the filter do in
that situation?</p>
<p>The default mode is to fill in the <em>nearest</em> pixel value from
the image. For each of the missing x’s the image value closest to the x
is used. If we fill in a few of the missing pixels, you will see how
this works:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>  x   x   x   4   x   x   x
  x   x   x   4   x   x   x
  x   x   x   4   x   x   x
  4   4   4   4   5   9   2
  x   x   x   5   3   6   7
  x   x   x   6   5   7   8
  x   x   x   5   4   5   3</code></pre>
</div>
<p>Another strategy to fill those missing values is to <em>reflect</em>
the pixels that are in the image to fill in for the pixels that are
missing from the kernel.</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>  x   x   x   5   x   x   x
  x   x   x   6   x   x   x
  x   x   x   5   x   x   x
  2   9   5   4   5   9   2
  x   x   x   5   3   6   7
  x   x   x   6   5   7   8
  x   x   x   5   4   5   3</code></pre>
</div>
<p>A similar process would be used to fill in all of the other missing
pixels from the kernel. Other <em>border modes</em> are available; you
can learn more about them in <a href="https://scikit-image.org/docs/dev/user_guide" class="external-link">the scikit-image
documentation</a>.</p>
</div>
</div>
</div>
<p>This animation shows how the blur kernel moves along in the original
image in order to calculate the colour channel values for the blurred
image.</p>
<figure><img src="../fig/blur-demo.gif" alt="Blur demo animation" class="figure mx-auto d-block"></figure><p>scikit-image has built-in functions to perform blurring for us, so we
do not have to perform all of these mathematical operations ourselves.
Let’s work through an example of blurring an image with the scikit-image
Gaussian blur function.</p>
<p>First, import the packages needed for this episode:</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="im">import</span> imageio.v3 <span class="im">as</span> iio</span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a><span class="im">import</span> ipympl</span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a><span class="im">import</span> skimage <span class="im">as</span> ski</span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a></span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a><span class="op">%</span>matplotlib widget</span></code></pre>
</div>
<p>Then, we load the image, and display it:</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a>image <span class="op">=</span> iio.imread(uri<span class="op">=</span><span class="st">"data/gaussian-original.png"</span>)</span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a><span class="co"># display the image</span></span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots()</span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a>ax.imshow(image)</span></code></pre>
</div>
<figure><img src="../data/gaussian-original.png" alt="Original image" class="figure mx-auto d-block"></figure><p>Next, we apply the gaussian blur:</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a>sigma <span class="op">=</span> <span class="fl">3.0</span></span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a><span class="co"># apply Gaussian blur, creating a new image</span></span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a>blurred <span class="op">=</span> ski.filters.gaussian(</span>
<span id="cb6-5"><a href="#cb6-5" tabindex="-1"></a>    image, sigma<span class="op">=</span>(sigma, sigma), truncate<span class="op">=</span><span class="fl">3.5</span>, channel_axis<span class="op">=-</span><span class="dv">1</span>)</span></code></pre>
</div>
<p>The first two arguments to <code>ski.filters.gaussian()</code> are
the image to blur, <code>image</code>, and a tuple defining the sigma to
use in ry- and cx-direction, <code>(sigma, sigma)</code>. The third
parameter <code>truncate</code> is meant to pass the radius of the
kernel in number of sigmas. A Gaussian function is defined from
-infinity to +infinity, but our kernel (which must have a finite,
smaller size) can only approximate the real function. Therefore, we must
choose a certain distance from the centre of the function where we stop
this approximation, and set the final size of our kernel. In the above
example, we set <code>truncate</code> to 3.5, which means the kernel
size will be 2 * sigma * 3.5. For example, for a <code>sigma</code> of
1.0 the resulting kernel size would be 7, while for a <code>sigma</code>
of 2.0 the kernel size would be 14. The default value for
<code>truncate</code> in scikit-image is 4.0.</p>
<p>The last argument we passed to <code>ski.filters.gaussian()</code> is
used to specify the dimension which contains the (colour) channels.
Here, it is the last dimension; recall that, in Python, the
<code>-1</code> index refers to the last position. In this case, the
last dimension is the third dimension (index <code>2</code>), since our
image has three dimensions:</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="bu">print</span>(image.ndim)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">3</span></span></code></pre>
</div>
<p>Finally, we display the blurred image:</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="co"># display blurred image</span></span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots()</span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a>ax.imshow(blurred)</span></code></pre>
</div>
<figure><img src="../fig/gaussian-blurred.png" alt="Blurred image" class="figure mx-auto d-block"></figure></section><section id="visualising-blurring"><h2 class="section-heading">Visualising Blurring<a class="anchor" aria-label="anchor" href="#visualising-blurring"></a>
</h2>
<hr class="half-width"><p>Somebody said once “an image is worth a thousand words”. What is
actually happening to the image pixels when we apply blurring may be
difficult to grasp. Let’s now visualise the effects of blurring from a
different perspective.</p>
<p>Let’s use the petri-dish image from previous episodes:</p>
<figure><img src="../fig/petri-dish.png" alt="Bacteria colony" class="figure mx-auto d-block"><div class="figcaption">Graysacle version of the Petri dish image</div>
</figure><p>What we want to see here is the pixel intensities from a lateral
perspective: we want to see the profile of intensities. For instance,
let’s look for the intensities of the pixels along the horizontal line
at <code>Y=150</code>:</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="co"># read colonies color image and convert to grayscale</span></span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a>image <span class="op">=</span> iio.imread(<span class="st">'data/colonies-01.tif'</span>)</span>
<span id="cb10-3"><a href="#cb10-3" tabindex="-1"></a>image_gray <span class="op">=</span> ski.color.rgb2gray(image)</span>
<span id="cb10-4"><a href="#cb10-4" tabindex="-1"></a></span>
<span id="cb10-5"><a href="#cb10-5" tabindex="-1"></a><span class="co"># define the pixels for which we want to view the intensity (profile)</span></span>
<span id="cb10-6"><a href="#cb10-6" tabindex="-1"></a>xmin, xmax <span class="op">=</span> (<span class="dv">0</span>, image_gray.shape[<span class="dv">1</span>])</span>
<span id="cb10-7"><a href="#cb10-7" tabindex="-1"></a>Y <span class="op">=</span> ymin <span class="op">=</span> ymax <span class="op">=</span> <span class="dv">150</span></span>
<span id="cb10-8"><a href="#cb10-8" tabindex="-1"></a></span>
<span id="cb10-9"><a href="#cb10-9" tabindex="-1"></a><span class="co"># view the image indicating the profile pixels position</span></span>
<span id="cb10-10"><a href="#cb10-10" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots()</span>
<span id="cb10-11"><a href="#cb10-11" tabindex="-1"></a>ax.imshow(image_gray, cmap<span class="op">=</span><span class="st">'gray'</span>)</span>
<span id="cb10-12"><a href="#cb10-12" tabindex="-1"></a>ax.plot([xmin, xmax], [ymin, ymax], color<span class="op">=</span><span class="st">'red'</span>)</span></code></pre>
</div>
<figure><img src="../fig/petri-selected-pixels-marker.png" alt="Bacteria colony image with selected pixels marker" class="figure mx-auto d-block"><div class="figcaption">Grayscale Petri dish image marking selected
pixels for profiling</div>
</figure><p>The intensity of those pixels we can see with a simple line plot:</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="co"># select the vector of pixels along "Y"</span></span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a>image_gray_pixels_slice <span class="op">=</span> image_gray[Y, :]</span>
<span id="cb11-3"><a href="#cb11-3" tabindex="-1"></a></span>
<span id="cb11-4"><a href="#cb11-4" tabindex="-1"></a><span class="co"># guarantee the intensity values are in the [0:255] range (unsigned integers)</span></span>
<span id="cb11-5"><a href="#cb11-5" tabindex="-1"></a>image_gray_pixels_slice <span class="op">=</span> ski.img_as_ubyte(image_gray_pixels_slice)</span>
<span id="cb11-6"><a href="#cb11-6" tabindex="-1"></a></span>
<span id="cb11-7"><a href="#cb11-7" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots()</span>
<span id="cb11-8"><a href="#cb11-8" tabindex="-1"></a>ax.plot(image_gray_pixels_slice, color<span class="op">=</span><span class="st">'red'</span>)</span>
<span id="cb11-9"><a href="#cb11-9" tabindex="-1"></a>ax.set_ylim(<span class="dv">255</span>, <span class="dv">0</span>)</span>
<span id="cb11-10"><a href="#cb11-10" tabindex="-1"></a>ax.set_ylabel(<span class="st">'L'</span>)</span>
<span id="cb11-11"><a href="#cb11-11" tabindex="-1"></a>ax.set_xlabel(<span class="st">'X'</span>)</span></code></pre>
</div>
<figure><img src="../fig/petri-original-intensities-plot.png" alt="Pixel intensities profile in original image" class="figure mx-auto d-block"><div class="figcaption">Intensities profile line plot of pixels along
Y=150 in original image</div>
</figure><p>And now, how does the same set of pixels look in the corresponding
<em>blurred</em> image:</p>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="co"># first, create a blurred version of (grayscale) image</span></span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a>image_blur <span class="op">=</span> ski.filters.gaussian(image_gray, sigma<span class="op">=</span><span class="dv">3</span>)</span>
<span id="cb12-3"><a href="#cb12-3" tabindex="-1"></a></span>
<span id="cb12-4"><a href="#cb12-4" tabindex="-1"></a><span class="co"># like before, plot the pixels profile along "Y"</span></span>
<span id="cb12-5"><a href="#cb12-5" tabindex="-1"></a>image_blur_pixels_slice <span class="op">=</span> image_blur[Y, :]</span>
<span id="cb12-6"><a href="#cb12-6" tabindex="-1"></a>image_blur_pixels_slice <span class="op">=</span> ski.img_as_ubyte(image_blur_pixels_slice)</span>
<span id="cb12-7"><a href="#cb12-7" tabindex="-1"></a></span>
<span id="cb12-8"><a href="#cb12-8" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots()</span>
<span id="cb12-9"><a href="#cb12-9" tabindex="-1"></a>ax.plot(image_blur_pixels_slice, <span class="st">'red'</span>)</span>
<span id="cb12-10"><a href="#cb12-10" tabindex="-1"></a>ax.set_ylim(<span class="dv">255</span>, <span class="dv">0</span>)</span>
<span id="cb12-11"><a href="#cb12-11" tabindex="-1"></a>ax.set_ylabel(<span class="st">'L'</span>)</span>
<span id="cb12-12"><a href="#cb12-12" tabindex="-1"></a>ax.set_xlabel(<span class="st">'X'</span>)</span></code></pre>
</div>
<figure><img src="../fig/petri-blurred-intensities-plot.png" alt="Pixel intensities profile in blurred image" class="figure mx-auto d-block"><div class="figcaption">Intensities profile of pixels along Y=150 in
<em>blurred</em> image</div>
</figure><p>And that is why <em>blurring</em> is also called <em>smoothing</em>.
This is how low-pass filters affect neighbouring pixels.</p>
<p>Now that we have seen the effects of blurring an image from two
different perspectives, front and lateral, let’s take yet another look
using a 3D visualisation.</p>
<div id="d-plots-with-matplotlib" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="d-plots-with-matplotlib" class="callout-inner">
<h3 class="callout-title">3D Plots with matplotlib<a class="anchor" aria-label="anchor" href="#d-plots-with-matplotlib"></a>
</h3>
<div class="callout-content">
<p>The code to generate these 3D plots is outside the scope of this
lesson but can be viewed by following the links in the captions.</p>
</div>
</div>
</div>
<figure><img src="../fig/3D_petri_before_blurring.png" alt="3D surface plot showing pixel intensities across the whole example Petri dish image before blurring" class="figure mx-auto d-block"><div class="figcaption">A 3D plot of pixel intensities across the whole
Petri dish image before blurring. <a href="https://gist.github.com/chbrandt/63ba38142630a0586ba2a13eabedf94b" class="external-link">Explore
how this plot was created with matplotlib</a>. Image credit: <a href="https://github.com/chbrandt/" class="external-link">Carlos H Brandt</a>.</div>
</figure><figure><img src="../fig/3D_petri_after_blurring.png" alt="3D surface plot illustrating the smoothing effect on pixel intensities across the whole example Petri dish image after blurring" class="figure mx-auto d-block"><div class="figcaption">A 3D plot of pixel intensities after Gaussian
blurring of the Petri dish image. Note the ‘smoothing’ effect on the
pixel intensities of the colonies in the image, and the ‘flattening’ of
the background noise at relatively low pixel intensities throughout the
image. <a href="https://gist.github.com/chbrandt/63ba38142630a0586ba2a13eabedf94b" class="external-link">Explore
how this plot was created with matplotlib</a>. Image credit: <a href="https://github.com/chbrandt/" class="external-link">Carlos H Brandt</a>.</div>
</figure><div id="experimenting-with-sigma-values-10-min" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="experimenting-with-sigma-values-10-min" class="callout-inner">
<h3 class="callout-title">Experimenting with sigma values (10 min)<a class="anchor" aria-label="anchor" href="#experimenting-with-sigma-values-10-min"></a>
</h3>
<div class="callout-content">
<p>The size and shape of the kernel used to blur an image can have a
significant effect on the result of the blurring and any downstream
analysis carried out on the blurred image. The next two exercises ask
you to experiment with the sigma values of the kernel, which is a good
way to develop your understanding of how the choice of kernel can
influence the result of blurring.</p>
<p>First, try running the code above with a range of smaller and larger
sigma values. Generally speaking, what effect does the sigma value have
on the blurred image?</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1">Show me the solution</h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<p>Generally speaking, the larger the sigma value, the more blurry the
result. A larger sigma will tend to get rid of more noise in the image,
which will help for other operations we will cover soon, such as
thresholding. However, a larger sigma also tends to eliminate some of
the detail from the image. So, we must strike a balance with the sigma
value used for blur filters.</p>
</div>
</div>
</div>
</div>
<div id="experimenting-with-kernel-shape-10-min---optional-not-included-in-timing" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="experimenting-with-kernel-shape-10-min---optional-not-included-in-timing" class="callout-inner">
<h3 class="callout-title">Experimenting with kernel shape (10 min -
optional, not included in timing)<a class="anchor" aria-label="anchor" href="#experimenting-with-kernel-shape-10-min---optional-not-included-in-timing"></a>
</h3>
<div class="callout-content">
<p>Now, what is the effect of applying an asymmetric kernel to blurring
an image? Try running the code above with different sigmas in the ry and
cx direction. For example, a sigma of 1.0 in the ry direction, and 6.0
in the cx direction.</p>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2">Show me the solution</h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" data-bs-parent="#accordionSolution2" aria-labelledby="headingSolution2">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="co"># apply Gaussian blur, with a sigma of 1.0 in the ry direction, and 6.0 in the cx direction</span></span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a>blurred <span class="op">=</span> ski.filters.gaussian(</span>
<span id="cb13-3"><a href="#cb13-3" tabindex="-1"></a>    image, sigma<span class="op">=</span>(<span class="fl">1.0</span>, <span class="fl">6.0</span>), truncate<span class="op">=</span><span class="fl">3.5</span>, channel_axis<span class="op">=-</span><span class="dv">1</span></span>
<span id="cb13-4"><a href="#cb13-4" tabindex="-1"></a>)</span>
<span id="cb13-5"><a href="#cb13-5" tabindex="-1"></a></span>
<span id="cb13-6"><a href="#cb13-6" tabindex="-1"></a><span class="co"># display blurred image</span></span>
<span id="cb13-7"><a href="#cb13-7" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots()</span>
<span id="cb13-8"><a href="#cb13-8" tabindex="-1"></a>ax.imshow(blurred)</span></code></pre>
</div>
<figure><img src="../fig/rectangle-gaussian-blurred.png" alt="Rectangular kernel blurred image" class="figure mx-auto d-block"></figure><p>These unequal sigma values produce a kernel that is rectangular
instead of square. The result is an image that is much more blurred in
the X direction than in the Y direction. For most use cases, a uniform
blurring effect is desirable and this kind of asymmetric blurring should
be avoided. However, it can be helpful in specific circumstances, e.g.,
when noise is present in your image in a particular pattern or
orientation, such as vertical lines, or when you want to <a href="https://www.researchgate.net/publication/228567435_An_edge_detection_algorithm_based_on_rectangular_Gaussian_kernels_for_machine_vision_applications" class="external-link">remove
uniform noise without blurring edges present in the image in a
particular orientation</a>.</p>
</div>
</div>
</div>
</div>
</section><section id="other-methods-of-blurring"><h2 class="section-heading">Other methods of blurring<a class="anchor" aria-label="anchor" href="#other-methods-of-blurring"></a>
</h2>
<hr class="half-width"><p>The Gaussian blur is a way to apply a low-pass filter in
scikit-image. It is often used to remove Gaussian (i.e., random) noise
in an image. For other kinds of noise, e.g., “salt and pepper”, a median
filter is typically used. See <a href="https://scikit-image.org/docs/dev/api/skimage.filters.html#module-skimage.filters" class="external-link">the
<code>skimage.filters</code> documentation</a> for a list of available
filters.</p>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points<a class="anchor" aria-label="anchor" href="#keypoints1"></a>
</h3>
<div class="callout-content">
<ul><li>Applying a low-pass blurring filter smooths edges and removes noise
from an image.</li>
<li>Blurring is often used as a first step before we perform
thresholding or edge detection.</li>
<li>The Gaussian blur can be applied to an image with the
<code>ski.filters.gaussian()</code> function.</li>
<li>Larger sigma values may remove more noise, but they will also remove
detail from an image.</li>
</ul></div>
</div>
</div>
</section></div> <!-- / div.lesson-content -->
    </main><!-- / main#main-content.main-content --><nav class="bottom-pagination mx-md-4" aria-label="Previous and Next Chapter"><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="../instructor/05-creating-histograms.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous</a>
        <a class="chapter-link float-end" href="../instructor/07-thresholding.html">Next<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="../instructor/05-creating-histograms.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Previous: Creating Histograms
        </a>
        <a class="chapter-link float-end" href="../instructor/07-thresholding.html" rel="next">
          Next: Thresholding... 
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
    </nav></div> <!-- / div.primary-content.col-xs-12 -->
<!-- END:   inst/pkgdown/templates/content-instructor.html-->

      </div><!--/div.row-->
      		<footer class="row footer mx-md-3"><hr><div class="col-md-6">
        <p>This lesson is subject to the <a href="CODE_OF_CONDUCT.html">Code of Conduct</a></p>
        <p>
        
        <a href="https://github.com/datacarpentry/image-processing/edit/main/episodes/06-blurring.md" class="external-link">Edit on GitHub</a>
        
	
        | <a href="https://github.com/datacarpentry/image-processing/blob/main/CONTRIBUTING.md" class="external-link">Contributing</a>
        | <a href="https://github.com/datacarpentry/image-processing/" class="external-link">Source</a></p>
				<p><a href="https://github.com/datacarpentry/image-processing/blob/main/CITATION" class="external-link">Cite</a> | <a href="mailto:team@carpentries.org">Contact</a> | <a href="https://carpentries.org/about/" class="external-link">About</a></p>
			</div>
			<div class="col-md-6">
        
        <p>Materials licensed under <a href="LICENSE.html">CC-BY 4.0</a> by the authors</p>
        
        <p>Template licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/" class="external-link">CC-BY 4.0</a> by <a href="https://carpentries.org/" class="external-link">The Carpentries</a></p>
        <p>Built with <a href="https://github.com/carpentries/sandpaper/tree/0.16.4" class="external-link">sandpaper (0.16.4)</a>, <a href="https://github.com/carpentries/pegboard/tree/0.7.5" class="external-link">pegboard (0.7.5)</a>, and <a href="https://github.com/carpentries/varnish/tree/1.0.2" class="external-link">varnish (1.0.2)</a></p>
			</div>
		</footer></div> <!-- / div.container -->
	<div id="to-top">
		<a href="#top">
      <i class="search-icon" data-feather="arrow-up" role="img" aria-label="Back To Top"></i><br><!-- <span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top --><span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top
		</a>
	</div>
  <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "TrainingMaterial",
  "@id": "https://datacarpentry.github.io/image-processing/instructor/06-blurring.html",
  "inLanguage": "en",
  "dct:conformsTo": "https://bioschemas.org/profiles/TrainingMaterial/1.0-RELEASE",
  "description": "A Carpentries Lesson teaching foundational data and coding skills to researchers worldwide",
  "keywords": "software, data, lesson, The Carpentries",
  "name": "Blurring Images",
  "creativeWorkStatus": "active",
  "url": "https://datacarpentry.github.io/image-processing/instructor/06-blurring.html",
  "identifier": "https://datacarpentry.github.io/image-processing/instructor/06-blurring.html",
  "dateCreated": "2017-03-14",
  "dateModified": "2024-03-12",
  "datePublished": "2024-04-16"
}

  </script><script>
		feather.replace();
	</script><!-- Matomo
    2022-11-07: we have gotten a notification that we have an overage for our
    tracking and I'm pretty sure this has to do with Workbench usage.
    Considering that I am not _currently_ using this tracking because I do not
    yet know how to access the data, I am turning this off for now.
  <script>
    var _paq = window._paq = window._paq || [];
    /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
    _paq.push(["setDocumentTitle", document.domain + "/" + document.title]);
    _paq.push(["setDomains", ["*.preview.carpentries.org","*.datacarpentry.github.io","*.datacarpentry.org","*.librarycarpentry.github.io","*.librarycarpentry.org","*.swcarpentry.github.io", "*.carpentries.github.io"]]);
    _paq.push(["setDoNotTrack", true]);
    _paq.push(["disableCookies"]);
    _paq.push(['trackPageView']);
    _paq.push(['enableLinkTracking']);
    (function() {
          var u="https://carpentries.matomo.cloud/";
          _paq.push(['setTrackerUrl', u+'matomo.php']);
          _paq.push(['setSiteId', '1']);
          var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
          g.async=true; g.src='https://cdn.matomo.cloud/carpentries.matomo.cloud/matomo.js'; s.parentNode.insertBefore(g,s);
        })();
  </script>
  End Matomo Code --></body></html><!-- END:   inst/pkgdown/templates/layout.html-->

